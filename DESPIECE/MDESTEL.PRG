PROCEDURE MDESTEL
	PARA QUEARTI
	EXTERNAL ARRAY ARTI
	EXTERNAL ARRAY DESCR
	EXTERNAL ARRAY CANTI
	EXTERNAL ARRAY UNID
	EXTERNAL ARRAY CODUNID
	=OPTELS()
	=OPMER()
	=OPDES()
	SET RELA TO TELCODPRO INTO TELS
	SELE MER
	IF SEEK(QUEARTI)
		TMP=GENTMP()
		=WORKING()
		=DOTALK()
		SELE DES
		SORT ON TELCODPRO TO (TMP) FOR ARTICULO=QUEARTI .AND. TIPO="M" FIELDS ;
			TELCODPRO, TELS.TELA, TELS.UNIDAD, CANTIDAD
		=PRXAREA(.T.)
		USE (TMP) ALIAS TMP
		TMP2=GENTMP()
		TOTAL ON TELCODPRO TO (TMP2) FIELD CANTIDAD
		=UNTALK()
		=UNWORK()
		=PRXAREA(.T.)
		USE (TMP2) ALIAS TMP2
		SCAN
			ARTI[RECN()]=TELCODPRO
			DESCR[RECN()]=TELA
			UNID[RECN()]=SAYMIX(UNIDAD,"MDDCOD")
			CODUNID[RECN()]=UNIDAD
		ENDSCAN
	ENDIF
	=OFF_TMP()
	=OFF_RELA()
RETURN

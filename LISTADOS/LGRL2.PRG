* FUNCTION LGRL2
* PORCRT    : VARIABLE LOGICA .T. POR PANTALLA ELSE POR IMPRESORA
* L_ALIAS   : ALIAS DE LA BASE A LISTAR
* L_LISTADO : NOMBRE DEL PROGRAMA QUE IMPRIME (EJ: "LCIU0()")
* L_AUDI    : TEXTO A CARGAR A LA AUDITORIA
* ULPR      : NOMBRE DEL PROGRAMA PARA EL CHEQSEG Y EL IAUD
* TOTALIZA  : .T. SI TOTALIZA C/UN TOTAL, SI ES NUMERICO ES LA CANTIDAD DE
*             ELEMENTOS DEL ARRAY
* ELPI1     : PICTURE DEL TOTAL PUEDE TAMBIEN SER UN ARRAY
* L_SIMULCOP: LA CANTIDAD DE COPIAS DEL LISTADO
FUNCTION LGRL2
	PARAMETER PORCRT,L_ALI,L_PRO,L_AUD,L_PRG,L_SUM,L_PIC,L_SIMULCOP
	IF ISARRAY(@L_PIC)
		RETURN IIF(PORCRT, ;
			LGRLP(L_ALI,L_PRO,L_AUD,L_PRG+"P",L_SUM, @L_PIC), ;
			LGRLI(L_ALI,L_PRO,L_AUD,L_PRG+"I",L_SUM, @L_PIC,L_SIMULCOP))
	ELSE
		RETURN IIF(PORCRT, ;
			LGRLP(L_ALI,L_PRO,L_AUD,L_PRG+"P",L_SUM, L_PIC), ;
			LGRLI(L_ALI,L_PRO,L_AUD,L_PRG+"I",L_SUM, L_PIC,L_SIMULCOP))
	ENDIF

********************************************************************************
*-- Programa: LFARPR.PRG
*-- Fecha   : 10-16-92 03:33pm
*-- Version : GOYO REINER
*-- Notas   : LISTADO DE FACTURAS DE COMPRA (MERCADERIAS) POR PANTALLA
********************************************************************************
STORE HORA_ULP(PROGRAM()) TO ULPR
=CHEQSEG()
STORE NUL TO CASOS,LINEA,CAN,TOT,TCAN,TTOT,ELARTICULO,LAMERCA,ELCORTE,ELTEXTO
=LFARPR0()
=win0()
pag=1
=cabpan()
=TIT_LIN(1)
SCAN
	=LFARPR1()
	IF ROW()>21
		IF FILFAC=3
			IF !FIN_LIN(1,paip+"SUBTOTAL"+PAIP+SPACE(14)+PAIP+SPACE(20)+PAIP+;
					STR(TOT,XACDIGI,2)+PAIP)
				EXIT
			ENDIF
		ELSE
			IF !FIN_LIN(1,PAIP+"SUBTOTAL"+PAIP+;
					STR(TCAN,XACDIGI)+PAIP+STR(TTOT,XACDIGI,2)+PAIP)
				EXIT
			ENDIF
		ENDIF
		CLEA
		STOR pag+1 TO pag
		=CABPAN()
		=TIT_LIN(2)
	ENDIF
	=LFARPR2()
ENDSCAN
=LFARPR1()
IF FILFAC=3
	=FIN_LIN(2,paip+PADC("TOTAL",8)+PAIP+SPACE(14)+PAIP+SPACE(20)+PAIP+;
		STR(TOT,XACDIGI,2)+PAIP,CASOS)
ELSE
	IF !FIN_LIN(2,PAIP+"SUBTOTAL"+PAIP+;
			STR(TCAN,XACDIGI)+PAIP+STR(TTOT,XACDIGI,2)+PAIP,CASOS)
		EXIT
	ENDIF
ENDIF
=RELEWIN("win")
=IAUD(FISC)
=REOPFAR()
RETURN MEN_LIN(BOTOM)

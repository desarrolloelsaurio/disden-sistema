* ษออออออออออออออออออออออออออออออออออออออป
* บ PROCEDIMIENTO : CTRL2_RE.PRG         บ
* ฬออออออออออออออออออออออออออออออออออออออน
* บ AUTOR      : GOYO REINER             บ
* บ FECHA      : 07-30-95 11:39pm        บ
* บ COPYRIGHT  : 1995 by GREGORIO REINER บ
* ศออออออออออออออออออออออออออออออออออออออผ
FUNCTION CTRL2_RE
	=WORKING()
	DO CASE
	CASE WEXIST("MER")
		SELE MER
		=FLOCK() .OR. FLOK()
		TMP=GENTMP()
		SET DELE OFF
		SORT ON ARTICULO TO (TMP) FOR DELE()
		SET DELE ON
		UNLO IN MER
		=PRXAREA(.T.)
		USE (TMP) ALIAS TMP
		RECA ALL
		=DEFPOGRL(MERPOPR,MERPOPC,"MERPOX","TMP.MERCA",40,"Elija la mercaderกa")
		ACTI POPU MERPOX
		ON SELE POPU MERPOX DO RESP1
		ACTI POPU MERPOX
		SELE TMP
		SCAT MEMV MEMO
		SCAT TO RESPADO MEMO
		STORE .F. TO M.INGRESO
		STORE .T. TO M.CAMBIO
		=OFF_TMP()
	CASE WEXIST("PER")
		SELE PER
		=FLOCK() .OR. FLOK()
		TMP=GENTMP()
		SET DELE OFF		
		SORT ON CLIENTE TO (TMP) FOR DELE()
		SET DELE ON		
		UNLO IN PER
		=PRXAREA(.T.)
		USE (TMP) ALIAS TMP
		RECA ALL
		=DEFPOGRL(PERPOPR,PERPOPC,"PERPOX","TMP.CLIENTE",40,"")
		ACTI POPU PERPOX
		ON SELE POPU PERPOX DO RESP1
		ACTI POPU PERPOX
		SELE TMP
		SCAT MEMV MEMO
		SCAT TO RESPADO MEMO
		STORE .F. TO M.INGRESO
		STORE .T. TO M.CAMBIO
		=OFF_TMP()
	ENDCASE
RETURN UNWORK()

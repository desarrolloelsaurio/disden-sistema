FUNCTION FABNTRR0
	PARAMETER FAB_NUM,FAB0TEX
	#DEFINE ONE    1                               && ONE
	#DEFINE TWO    2                               && TWO
	ELRUB=LEFT(ARTICULO,3)
	ELRUBTEX=ALLTRIM(SAYMIX(ELRUB,"RUBCOD"))
	STORE CASOS+CASOSPARC TO CASOSPARC
	STORE TTTOT+TTPARC TO TTTOT
	IF NOFIRST
		IF LG_PORP
			FAB_SALIDA=FIN_LIN(FAB_NUM,CASOSPARC,FABNTRR2(FAB0TEX,TTPARC))
			CLEA
			STOR PAG+ONE TO PAG
			=CABPAN()
			=TIT_LIN(TWO,ELRUBTEX)
		ELSE
			=FIN_LIN(FAB_NUM,CASOSPARC,FABNTRR2(FAB0TEX,TTPARC))
			=cabpri1()
			=TIT_LIN(FAB_NUM,ELRUBTEX)
		ENDIF
	ELSE
		STORE .T. TO FAB_SALIDA
	ENDIF
	STORE .T. TO NOFIRST
	STORE NUL TO CASOSPARC,TTPARC
RETURN LG_PORP .AND. !FAB_SALIDA

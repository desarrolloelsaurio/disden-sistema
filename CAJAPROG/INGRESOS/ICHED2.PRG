*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        04/02/93             ICHED2.PRG                18:36:58 
*                                                                
*       픔컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        Author's Name                                           
*                                                                
*        Copyright (c) 1993 Company Name                         
*        Address                                                 
*        City,     Zip                                           
*                                                                
*        Description:                                            
*        This program was automatically generated by GENSCRN.    
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴


#REGION 0
REGIONAL m.currarea, m.talkstat, m.compstat

IF SET("TALK") = "ON"
	SET TALK OFF
	m.talkstat = "ON"
ELSE
	m.talkstat = "OFF"
ENDIF
m.compstat = SET("COMPATIBLE")
SET COMPATIBLE FOXPLUS

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*                           Window definitions                   
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*

IF NOT WEXIST("_qen13wf4r")
	DEFINE WINDOW _qen13wf4r ;
		FROM INT((SROW()-11)/2),INT((SCOL()-65)/2) ;
		TO INT((SROW()-11)/2)+10,INT((SCOL()-65)/2)+64 ;
		TITLE " DATOS DEL INGRESO DE VALORES DIFERIDOS " ;
		NOFLOAT ;
		NOCLOSE ;
		SHADOW ;
		DOUBLE ;
		COLOR SCHEME 8
ENDIF


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*                     ICHED2 Setup Code - SECTION 2              
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*

#REGION 1
STORE "" TO M.TEXTO
store .f. to m.salida

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*                         ICHED2 Screen Layout                   
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*

#REGION 1
IF WVISIBLE("_qen13wf4r")
	ACTIVATE WINDOW _qen13wf4r SAME
ELSE
	ACTIVATE WINDOW _qen13wf4r NOSHOW
ENDIF
@ 1,14 GET m.fechaop ;
	SIZE 1,8 ;
	DEFAULT {  /  /  } ;
	VALID _qen13wh35() ;
	MESSAGE "Fecha de la Operaci줻 - [ESC] para Men"
@ 2,14 GET m.codcli ;
	SIZE 1,10 ;
	DEFAULT " " ;
	WHEN last()#27 .and. !empty(m.fechaop) ;
	MESSAGE "C줰igo del Cliente - [ESC] para Ning즢 Cliente"
@ 3,14 GET m.compr ;
	SIZE 1,20 ;
	DEFAULT " " ;
	WHEN !empty(m.fechaop) .and. last()#27
@ 4,14 GET m.compre ;
	SIZE 1,2 ;
	DEFAULT " " ;
	WHEN !empty(m.fechaop) .and. last()#27
@ 5,14 GET m.numere ;
	SIZE 1,14 ;
	DEFAULT " " ;
	WHEN !empty(m.fechaop) .and. last()#27
@ 2,26 SAY m.texto ;
	SIZE 1,35
@ 1,2 SAY "Fecha "
@ 2,2 SAY "Cliente "
@ 3,2 SAY "Comprobante"
@ 4,2 SAY "Referencia"
@ 5,2 SAY "N Refer."
@ 7,14 GET m.choice ;
	PICTURE "@*HT \<Confirma;\<Anula;\<Reingresa" ;
	SIZE 1,11,1 ;
	DEFAULT 1 ;
	WHEN last()#27 ;
	MESSAGE "Confirma la Operaci줻" ;
	COLOR SCHEME 19

IF NOT WVISIBLE("_qen13wf4r")
	ACTIVATE WINDOW _qen13wf4r
ENDIF

READ CYCLE ;
	WHEN last()#27 ;
	SHOW _qen13winw()

RELEASE WINDOW _qen13wf4r

#REGION 0
IF m.talkstat = "ON"
	SET TALK ON
ENDIF
IF m.compstat = "ON"
	SET COMPATIBLE ON
ENDIF


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*                          ICHED2 Cleanup Code                   
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*

#REGION 1
if m.choice#3
   m.salida=iif(m.choice=2 .or. last()=27,.f.,.t.)
endif
RETURN m.salida

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _QEN13WH35           m.fechaop VALID                    
*                                                                
*        Function Origin:                                        
*                                                                
*        From Screen:         ICHED2,     Record Number:    2    
*        Variable:            m.fechaop                          
*        Called By:           VALID Clause                       
*        Object Type:         Field                              
*        Snippet Number:      1                                  
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _qen13wh35     &&  m.fechaop VALID
#REGION 1
if !empty(m.fechaop)
   STORE NUL TO RESPUESTA
   if ELICLI("a Imputar Cheque",2,14)
      m.codcli=PER.codcli
 	  m.texto=PER.cliente
   else
      m.codcli=space(10)
      m.texto1=space(30)
      if last()=27
      keyb " "
      =inkey(0)
      endif
   endif
   show gets
   store .t. to m.salida
endif
return m.salida




*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _QEN13WINW           Read Level Show                    
*                                                                
*        Function Origin:                                        
*                                                                
*        From Screen:         ICHED2                             
*        Called By:           READ Statement                     
*        Snippet Number:      2                                  
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _qen13winw     && Read Level Show
PRIVATE currwind
STORE WOUTPUT() TO currwind
*
* Show Code from screen: ICHED2
*
#REGION 1
IF SYS(2016) = "_QEN13WF4R" OR SYS(2016) = "*"
	ACTIVATE WINDOW _qen13wf4r SAME
	@ 2,26 SAY m.texto ;
		SIZE 1,35
ENDIF
IF NOT EMPTY(currwind)
	ACTIVATE WINDOW (currwind) SAME
ENDIF

******************************************************************************
*-- Programa: LRECIU1.PRG
*-- Fecha   : 10-14-92 11:47am
*-- Version : G. REINER
*-- Notas   : IMPRESION DE FACTURAS, POR IMPRESORA - TIPO B
*-- MODIFICACION goyo ADAPTACION FACTURAS - RECIBOS (TIPO B)
*-- MODIFICACION GOYO / NOVOGAR
*-- PAGOS CUOTAS
*-- MODIFICACION PARA RAFULS
*-- RECIBO DEVOLUCION VOLUNTARIA DE PROPIETARIOS
********************************************************************************
#DEFINE PICU "999,999,999.99"
#DEFINE NUL  0                                   && NUL
#DEFINE PAIP "|"                                 && PAIP
#DEFINE BOTOM  "  "+repl("°",78)                 && BOTOM

STORE HORA_ULP(PROGRAM()) TO ULPR
IF CHEQSEG()
	W=PAIP
	STOR NUL TO CASOS
	STOR 90 TO T1
	C1=2
	C2=18
	C7=48
	STORE 60 TO C3,C6
	C4=C3+10
	C5=55
	STORE "" TO NLQ1,NLQ2
	RELE LPT1,LPT2,LPT3
	=CABPRI3(2,36)
	ELCODCLI=PER.CODCLI
	ELNOMLCI=ALLTRIM(PER.CLIENTE)
	PRINTJOB
	***************************************************
	M.EL_NUM=GETDOC((JANNRO-1)*20+11)
	M.ELNUM=Q_FAC(SUCU+"-"+ALLTRIM(STR(M.EL_NUM)))
	=CABEMP(M.ELNUM)
	?
	=XSEEK(M.ELCLI,"ALQ","CODCLI")
	=XSEEK(ALQ.CODINM,"INM","CODINM")
	TT="RECIBI DEL SR. "+;
	ALLTRIM(SAYPER(INM.PROCOD,"PRPCOD"))+;
	" ,PROPIETARIO DEL INMUEBLE SITO EN CALLE "+;
	ALLTRIM(INM.DOMICILIO)+;
	" DE LA CIUDAD DE "+;
	ALLTRIM(SAYMIX(INM.LOCALIDAD,"CIUCOD"))+;
	" LA CANTIDAD DE "+ALLTRIM(XAUSS)
	=AJUSTE(TT,80,"-","I")
	TT=SAY_NUM(CCL.MONTO)
	IF LEN(TT)>80
		=AJUSTE(TT,80,"-","I")
	ELSE
		? PADR(TT,80,'-')
	ENDIF

	TT="EN CONCEPTO DE "+Q_TIPTEX(CCL.DETALLE)
	=AJUSTE(TT,80,"-","I")

	? XAUSS
	?? ':' AT 46
	?? CCL.MONTO PICT PICU
	? "TOTAL"
	?? ':' AT 46
	?? CCL.MONTO PICT PICU
	DO WHILE _PLINENO<25
	   ?
	ENDDO
	? PADC(DTOC(DATE())+SPACE(10)+ELNOMLCI,80)
	? PADC("--------"+SPACE(10)+REPL("-",LEN(ELNOMLCI)),80)
	_WRAP=.F.
	_LMARGIN=NUL
	EJECT PAGE
	ENDP
	=FINIMP()
	=IAUD(M.ELNUM)
	=SAVDOC((JANNRO-1)*20+11,M.EL_NUM+1)
	RELE LPT1,LPT2,LPT3
ELSE
	=IAUDI()
ENDI
RETURN MEN_LIN(BOTOM)

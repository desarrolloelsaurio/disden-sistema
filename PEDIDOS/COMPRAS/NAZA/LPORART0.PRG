FUNCTION LPORART0
#DEFINE PAIP   "|"                            && PAIP
#DEFINE NUL    0                              && NUL
PARAMETER L_TRUC
? PAIP
?? IIF(L_TRUC, LEFT(COMCODPRO, 10), AVICODPRO)
?? PAIP
?? IIF(!PORPAN .OR. RES_UMIDO,LEFT(iif(l_truc,compra,AVIO), 30)+PAIP,"")
IF !RES_UMIDO
   ?? IIF(PORPAN .OR. L_TRUC .OR. FILPRO=2, "", SAYPER(PROCOD, "PROCOD", 20)+PAIP)
   ?? STR(PEDIDO, XACDIGI)
   ?? PAIP
   ?? STR(RECIBIDO, XACDIGI)
   ?? PAIP
ENDIF
?? STR(PEDIDO-RECIBIDO, XACDIGI)
?? PAIP
IF L_TRUC
   TOTSTOCK=STOCK+STOCKMAX+STOCKMIN
   IF !RES_UMIDO
   ?? LEFT(AVIO, 30)
   ?? PAIP
   ?? STR(STOCKRES, XACDIGI)
   ?? PAIP
   ?? STR(STOCKMAX, XACDIGI)
   ?? PAIP
   ?? STR(STOCKMIN, XACDIGI)
   ?? PAIP
   ?? STR(STOCK, XACDIGI)
   ?? PAIP
   ?? STR(TOTSTOCK, XACDIGI)
   ?? PAIP
   ?? STR(STOCKRES-TOTSTOCK, XACDIGI)
ELSE
   ?? STR(STOCKRES-TOTSTOCK, XACDIGI)
   ?? PAIP
   ?? STR(STOCKRES-TOTSTOCK-PEDIDO+RECIBIDO, XACDIGI)
ENDIF
ELSE
   ?? STR(MONTO, XACDIGI, 3)
   ?? PAIP
   ?? STR(MIENTRAS, XACDIGI+2,2)
   STORE TOTAL[1]+MIENTRAS TO TOTAL[1]
   ?? PAIP
   ?? STR(STOCKRES, XACDIGI+2,2)
   STORE TOTAL[2]+STOCKRES TO TOTAL[2]
   ?? PAIP
   LADIF=MIENTRAS-STOCKRES
   IF LADIF>0
      ??STR(LADIF, XACDIGI+2,2)
      STORE TOTAL[3]+LADIF TO TOTAL[3]
   ELSE
      ?? SPACE(XACDIGI+2)
   ENDIF
ENDIF
?? PAIP
RETURN

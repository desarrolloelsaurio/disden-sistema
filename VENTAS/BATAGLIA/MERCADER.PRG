*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є 20/07/95            MERCADER.MPR              16:21:48  є
*       ЗДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД¶
*       є GOYO REINER                                             є
*       є Description:                                            є
*       є This program was automatically generated by GENMENU.    є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ

CLEA
=hazbmp()
MODI WIND SCREEN TITL "GESTION DE MERCADERIAS - Josй Bautista Battaglia                                          / © G. REINER - 1998"
MODI WIND SCREEN FONT "ARIAL",8
=SETEOS()
=GETPATH()
=OPMIX()
=OPAUD()
=OPSEG()
=var_prv()
=VAR_CLI()
=VAR_CTD()
=var_dni()
=var_iva()
=var_cag()
=var_pro()
=VAR_AGE()
RELE SSTM,JANNAME,USADOR,COEFSEG,XACANCHO,XACHOJA,SSTM1,LARGO,LARGOIM
RELE IVA09,IVA18,IVA118,IVA109,PC9,PC18,PC27,IVA127,pct09
RELE ULPR,RESPUESTA,ENASCII
PUBL SSTM,JANNAME,USADOR,COEFSEG,XACANCHO,XACHOJA,SSTM1,LARGO,LARGOIM
PUBL IVA09,IVA18,IVA118,IVA109,PC9,PC18,PC27,IVA127,PCT09
PUBL ULPR,RESPUESTA,ENASCII
*** DEFINICION DE VARIABLES
IF GETENV("EQUIPO")="MICASA"
   rest from E:\sistemas\ventas\novogar\posic ADDI
ELSE
   rest from posic ADDI
ENDIF
=GETPATH()
SSTM="VENTAS"
SSTM1="DIS-DEN"
JANNAME="DIS-DEN Odontologнa"
USADOR=GETENV("USERNAME")
LARGOIM=80
COEFSEG=1
IVA09=10.5/100
IVA109=1+IVA09
PC9="10.5 %"
IVA18=21/100
IVA118=1+IVA18
PC18="21 %"
PC09="10.5 %"
PC27="31.5 %"
IVA127=1.315
XACANCHO=GETNU1(PADR(USADOR,10)+PADR("XACANCHO",20),"FOXPER")
XACHOJA=GETNU1(PADR(USADOR,10)+PADR("XACHOJA",20),"FOXPER")
ULPR=PROGRAM()
* Inserted from DEFINES.PRG
#DEFINE BOTOM  "  "+repl("°",78)                 && BOTOM
#DEFINE ABA    "Abriendo Base de "               && ABA
#DEFINE NUL    0                                 && NUL
#DEFINE PAIP   "|"                               && PAIP
#DEFINE FOLC  ".F."                              && FOLC
#DEFINE CRLF CHR(13)+CHR(10)                     && CRLF
#DEFINE FOLL  .F.                                && FOLL
#DEFINE TRUC  ".T."                              && TRUC
#DEFINE TRUL  .T.                                && TRUL
#DEFINE IMPRIMIENDO  PADC(' IMPRIMIENDO LOS DATOS REQUERIDOS - [TECLA] Interrumpe ',80,'°') && IMPRIMIENDO
#DEFINE ELYES  "SI"                              && ELYES
#DEFINE ELNOU  "NO"                              && ELNOU
#DEFINE ONE    1                                 && ONE
#DEFINE TWO    2                                 && TWO
#DEFINE THREE  3                                 && THREE
#DEFINE FOUR   4                                 && FOUR
#DEFINE TEX_EFES " - [F2] Popup - [F3] BЈsqueda" && TEX_EFES
#DEFINE TEX_CALC "CALCULANDO - ESPERE POR FAVOR" && TEX_CALC
#DEFINE GRABANDO PADC(' Grabando los datos ingresados - Espere por Favor ',80,"°")
#DEFINE NOVACIO "CAMPO DE INGRESO OBLIGATORIO - NO PUEDE ESTAR VACIO" && NOVACIO
#DEFINE NOFECHA "LAS FECHAS ESTAN ENTRE VALORES INACEPTABLES" && NOFECHA
#DEFINE ESPAOPC " - Barra Espac. para cambiar de Opciўn" && ESPAOPC
#DEFINE ESCANUL " - [ESC] para Anular"           && ESCANUL
#DEFINE ESCAMEN " - [ESC] para MenЈ"             && ESCAMEN
#DEFINE ESCAFIN " - [ESC] para Fin"              && ESCAFIN
#DEFINE NOACVAL "LOS VALORES INGRESADOS ESTAN ENTRE LIMITES INACEPTABLES"    && NOACVAL
#DEFINE CONTIX  " Continuaciўn"                  && CONTIX
#DEFINE RH      36 								 && RH
#DEFINE RP 		47 								 && RP
#DEFINE ENTERCON "PULSE [ENTER] PARA CONTINUAR"  && ENTERCON
#DEFINE ORQ      "Orden de Requerimiento"        && ORQ
#DEFINE ORQS     "Ordenes de Requerimiento"      && ORQS
#DEFINE NOSEL "NO SE HA SELECCIONADO"            && NOSEL
#DEFINE PIC30 "!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"	 && PIC30
#DEFINE T_REINGRE "Reingrese el DATO"	 		 && T_REINGRE
* End of inserted lines
STORE .T. TO CAGPOP,CIUPOP,CTDPOP,CLIPOP,IVACOD,MERPOP,PRVPOP,PROPOP,DNIPOP,ZONPOP,AGEPOP

*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є                      Menu Definition                    є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*

=defpomix()

SET SYSMENU OFF

DEFINE MENU MAIN
DEFINE PAD _r220z2mma OF MAIN PROM "\<Varios" COLOR SCHEME 3
DEFINE PAD _r220z2mmy OF MAIN PROM "\<Proveedores" COLOR SCHEME 3
DEFINE PAD _r220z2mnf OF MAIN PROM "\<Mercaderнa" COLOR SCHEME 3
DEFINE PAD _r220z2moy OF MAIN PROM "Precios" COLOR SCHEME 3
DEFINE PAD _r220z2mq6 OF MAIN PROM "A\<genda" COLOR SCHEME 3
DEFINE PAD _r220z2mqj OF MAIN PROM "V\<ariables" COLOR SCHEME 3
DEFINE PAD _r220z2mqu OF MAIN PROM "\<Salida" COLOR SCHEME 3
ON PAD _r220z2mma OF MAIN ACTI POPUP varios
ON PAD _r220z2mmy OF MAIN ACTI POPUP proveedore
ON PAD _r220z2mnf OF MAIN ACTI POPUP mercaderнa
ON PAD _r220z2moy OF MAIN ACTI POPUP precios
ON PAD _r220z2mq6 OF MAIN ACTI POPUP agenda
ON PAD _r220z2mqj OF MAIN ACTI POPUP variables
ON SELE PAD _r220z2mqu OF MAIN cancel

DEFINE POPUP varios MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF varios PROM "\<Agrupaciуn"
DEFINE BAR 2 OF varios PROM "\<Ciudades"
DEFINE BAR 3 OF varios PROM "\<Provincias"
DEFINE BAR 4 OF varios PROM "C\<ondiciуn de Iva"
DEFINE BAR 5 OF varios PROM "\<Rubros"
DEFINE BAR 6 OF varios PROM "Cбte\<dras"
DEFINE BAR 7 OF varios PROM "Control de I\<mpresoras"
ON SELE BAR 1 OF varios do cag
ON SELE BAR 2 OF varios DO _r220z2mxe
ON SELE BAR 3 OF varios do prv
ON SELE BAR 4 OF varios do iva
ON SELE BAR 5 OF varios DO RUB
ON SELE BAR 6 OF varios DO CATEDRA
ON SELE BAR 7 OF varios DO OPCIMP

DEFINE POPUP proveedore MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF proveedore PROM "\<Datos Administrativos"
DEFINE BAR 2 OF proveedore PROM "\<Legajo"
*DEFINE BAR 3 OF proveedore PROM "\<Agrupaciуn"
ON SELE BAR 1 OF proveedore do pro
ON SELE BAR 2 OF proveedore do pro
*ON SELE BAR 3 OF proveedore do pro

DEFINE POPUP mercaderнa MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF mercaderнa PROM "\<Datos Generales"
DEFINE BAR 2 OF mercaderнa PROM "\<Legajo"
DEFINE BAR 3 OF mercaderнa PROM "Par\<tida"
DEFINE BAR 4 OF mercaderнa PROM "\<Agrupaciуn"
DEFINE BAR 5 OF mercaderнa PROM "\-" ;
	SKIP FOR .t.
*DEFINE BAR 6 OF mercaderнa PROM "\<Cбtedras"
*DEFINE BAR 7 OF mercaderнa PROM "Texto de \<Publicidad"
*DEFINE BAR 8 OF mercaderнa PROM "\<Texto de Tнtulo"
*DEFINE BAR 9 OF mercaderнa PROM "\<Importaciуn Propia"
*DEFINE BAR 10 OF mercaderнa PROM "\-" ;
	SKIP FOR .T.
DEFINE BAR 11 OF mercaderнa PROM "Listado por \<Impresora"
DEFINE BAR 12 OF mercaderнa PROM "Listado por \<Pantalla"
DEFINE BAR 13 OF mercaderнa PROM "\-" ;
	SKIP FOR .T.
*DEFINE BAR 14 OF mercaderнa PROM "Modificaciуn de C\<omisiones"
ON SELE BAR 1 OF mercaderнa DO MER.SPR
ON SELE BAR 2 OF mercaderнa DO MER_LEGA.SPR WITH .T.
ON BAR 3 OF mercaderнa ACTI POPUP partida
ON SELE BAR 4 OF mercaderнa do Imer_cag.spr
*ON SELE BAR 6 OF mercaderнa do catedras
*ON SELE BAR 7 OF mercaderнa DO MER_PROP.SPR WITH .T.
*ON SELE BAR 8 OF mercaderнa DO MER_TITU.SPR WITH .T.
*ON BAR 9 OF mercaderнa ACTI POPUP importaciу
ON BAR 11 OF mercaderнa ACTI POPUP listadopor
ON BAR 12 OF mercaderнa ACTI POPUP _r0d0zxws0
*ON BAR 14 OF mercaderнa ACTI POPUP MODIFICOMI

DEFINE POPUP MODIFICOMI MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF MODIFICOMI PROM "Por \<Rubro"
DEFINE BAR 2 OF MODIFICOMI PROM "\<Por Proveedor"
DEFINE BAR 3 OF MODIFICOMI PROM "Por \<Teclado"
DEFINE BAR 4 OF MODIFICOMI PROM "\<Completo"

ON SELE BAR 1 OF MODIFICOMI DO MODICOM1
ON SELE BAR 2 OF MODIFICOMI DO MODICOM2
ON SELE BAR 3 OF MODIFICOMI DO MODICOM3
ON SELE BAR 4 OF MODIFICOMI DO MODICOM4


DEFINE POPUP partida MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF partida PROM "\<Un Artнculo"
DEFINE BAR 2 OF partida PROM "\<Por Proveedor"
ON SELE BAR 1 OF partida DO MER_PART.SPR WITH .T.
ON SELE BAR 2 OF partida DO _r220z2nc5

DEFINE POPUP importaciу MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF importaciу PROM "Datos de la \<Partida"
DEFINE BAR 2 OF importaciу PROM "\-" ;
	SKIP FOR .t.
DEFINE BAR 3 OF importaciу PROM "\<Manual"
DEFINE BAR 4 OF importaciу PROM "\<Automбtica"
ON SELE BAR 1 OF importaciу DO _r220z2nft
ON BAR 3 OF importaciу ACTI POPUP manual
ON BAR 4 OF importaciу ACTI POPUP automбtica

DEFINE POPUP manual MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF manual PROM "\<Completo"
DEFINE BAR 2 OF manual PROM "\<Por Proveedor"
DEFINE BAR 3 OF manual PROM "Por \<Rubro"
DEFINE BAR 4 OF manual PROM "Por \<Teclado"
ON SELE BAR 1 OF manual DO IMPROP WITH 1
ON SELE BAR 2 OF manual DO IMPROP WITH 2
ON SELE BAR 3 OF manual DO IMPROP WITH 3
ON SELE BAR 4 OF manual DO IMPROP WITH 4

DEFINE POPUP automбtica MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF automбtica PROM "\<Asigna Importaciуn Propia"
DEFINE BAR 2 OF automбtica PROM "\<Quita Importaciуn Propia"
ON BAR 1 OF automбtica ACTI POPUP asignaimpo
ON BAR 2 OF automбtica ACTI POPUP quitaimpor

DEFINE POPUP asignaimpo MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF asignaimpo PROM "\<Por Proveedor"
DEFINE BAR 2 OF asignaimpo PROM "\<Por Rubro"
ON SELE BAR 1 OF asignaimpo do improp1 with .t.,1
ON SELE BAR 2 OF asignaimpo do improp1 with .t.,2

DEFINE POPUP quitaimpor MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF quitaimpor PROM "\<Por Proveedor"
DEFINE BAR 2 OF quitaimpor PROM "Por \<Rubro"
ON SELE BAR 1 OF quitaimpor do improp1 with .f.,1
ON SELE BAR 2 OF quitaimpor do improp1 with .f.,2

DEFINE POPUP listadopor MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF listadopor PROM "\<Listados Comunes"
DEFINE BAR 2 OF listadopor PROM "\<Ranking"
DEFINE BAR 3 OF listadopor PROM "Mercaderнa \<Borrada"
DEFINE BAR 4 OF listadopor PROM "\-" SKIP for .T.
DEFINE BAR 5 OF listadopor PROM "\<Costo -> Pcio Vta."
DEFINE BAR 6 OF listadopor PROM "\-" SKIP for .T.
DEFINE BAR 7 OF listadopor PROM "\<Venta de un Artнculo"

ON SELE BAR 1 OF listadopor DO _r220z2nt3
ON SELE BAR 2 OF listadopor DO LRANKM
ON SELE BAR 3 OF listadopor DO LMERBOR
**ON SELE BAR 5 OF listadopor DO LRANKM1 IN LRANKM.PRG
ON SELE BAR 5 OF listadopor DO QUERYRAN.SPR
ON SELE BAR 7 OF listadopor DO LFA1AR

DEFINE POPUP _r0d0zxws0 MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF _r0d0zxws0 PROM "Ranking"
DEFINE BAR 2 OF _r0d0zxws0 PROM "Artнculos \<Borrados"
DEFINE BAR 3 OF _r0d0zxws0 PROM "\-" SKIP for .T.
DEFINE BAR 4 OF _r0d0zxws0 PROM "\<Costo -> Pcio Vta."
DEFINE BAR 5 OF _r0d0zxws0 PROM "\-" SKIP for .T.
DEFINE BAR 6 OF _r0d0zxws0 PROM "\<Venta de un Artнculo"

ON SELE BAR 1 OF _r0d0zxws0 DO LRANKM WITH .T.
ON SELE BAR 2 OF _r0d0zxws0 DO LMERBOR WITH .T.
**ON SELE BAR 4 OF _r0d0zxws0 DO LRANKM1 IN LRANKM.PRG
ON SELE BAR 4 OF _r0d0zxws0 DO QUERYRAN.SPR WITH  .T.
ON SELE BAR 6 OF _r0d0zxws0 DO LFA1AR WITH .T.

DEFINE POPUP precios MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF precios PROM "\<Modifica Precios"
DEFINE BAR 2 OF precios PROM "\-" SKIP FOR .T.
DEFINE BAR 3 OF precios PROM "Consulta Precio M\<ayorista"
DEFINE BAR 4 OF precios PROM "Consulta Precio M\<inorista"
DEFINE BAR 5 OF precios PROM "Calculo de Oportunidad"
DEFINE BAR 6 OF precios PROM "\-" SKIP FOR .t.
DEFINE BAR 7 OF precios PROM "Listados"
DEFINE BAR 8 OF precios PROM "Modifica \<Porcentajes"  AFTER 1

ON BAR 1 OF precios ACTI POPUP modificapr
ON BAR 3 OF precios ACTI POPUP consultapr
ON BAR 4 OF precios ACTI POPUP _qvi0pvr5w
ON SELE BAR 5 OF precios do calc1.spr
ON BAR 7 OF precios ACTI POPUP listados
ON BAR 8 OF precios ACTI POPUP modificapo

DEFINE POPUP modificapr MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF modificapr PROM "Por \<Rubro"
DEFINE BAR 2 OF modificapr PROM "\<Por Proveedor"
DEFINE BAR 3 OF modificapr PROM "Por \<Teclado"
DEFINE BAR 4 OF modificapr PROM "\<Completo"
DEFINE BAR 5 OF modificapr PROM "\-" ;
	SKIP FOR .T.
DEFINE BAR 6 OF modificapr PROM "\<Global por Proveedor"
ON SELE BAR 1 OF modificapr DO _r220z2oow
ON SELE BAR 2 OF modificapr DO _r220z2oq3
ON SELE BAR 3 OF modificapr DO _r220z2or7
ON SELE BAR 4 OF modificapr DO _r220z2osl
ON SELE BAR 6 OF modificapr DO _r220z2otw

DEFINE POPUP modificapo MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF modificapo PROM "Por \<Rubro"
DEFINE BAR 2 OF modificapo PROM "\<Por Proveedor"
DEFINE BAR 3 OF modificapo PROM "Por \<Teclado"
DEFINE BAR 4 OF modificapo PROM "\<Completo"

ON SELE BAR 1 OF modificapo DO _r220z2oow with .t.
ON SELE BAR 2 OF modificapo DO _r220z2oq3 with .t.
ON SELE BAR 3 OF modificapo DO _r220z2or7 with .t.
ON SELE BAR 4 OF modificapo DO _r220z2osl with .t.

DEFINE POPUP consultapr MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF consultapr PROM "Por \<Rubro"
DEFINE BAR 2 OF consultapr PROM "\<Por Proveedor"
DEFINE BAR 3 OF consultapr PROM "\<Por Teclado"
DEFINE BAR 4 OF consultapr PROM "\<Completo"
ON SELE BAR 1 OF consultapr DO _r220z2oxm
ON SELE BAR 2 OF consultapr DO _r220z2oys
ON SELE BAR 3 OF consultapr DO _r220z2ozx
ON SELE BAR 4 OF consultapr DO _r220z2p12

DEFINE POPUP _qvi0pvr5w MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF _qvi0pvr5w PROM "Por \<Rubro"
DEFINE BAR 2 OF _qvi0pvr5w PROM "\<Por Proveedor"
DEFINE BAR 3 OF _qvi0pvr5w PROM "Por \<Teclado"
DEFINE BAR 4 OF _qvi0pvr5w PROM "\<Completo"
ON SELE BAR 1 OF _qvi0pvr5w DO _r220z2p4q
ON SELE BAR 2 OF _qvi0pvr5w DO _r220z2p5x
ON SELE BAR 3 OF _qvi0pvr5w DO _r220z2p71
ON SELE BAR 4 OF _qvi0pvr5w DO _r220z2p86

DEFINE POPUP listados MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF listados PROM "Cб\<tedras"
DEFINE BAR 2 OF listados PROM "\<Costos"
DEFINE BAR 3 OF listados PROM "C\<ostos y Precios sin Iva"
DEFINE BAR 4 OF listados PROM "\<Mostrador"
DEFINE BAR 5 OF listados PROM "Ma\<yorista"
DEFINE BAR 6 OF listados PROM "\<Ofertas"
DEFINE BAR 7 OF listados PROM "\-" skip for .t.
DEFINE BAR 8 OF listados PROM "\<Artнculos con Porcentaje Diferencial Todos" 
DEFINE BAR 9 OF listados PROM "\<Artнculos con Porcentaje Difer. x Prov." 
DEFINE BAR 10 OF listados PROM "\-" skip for .t.
DEFINE BAR 11 OF listados PROM "Co\<misiones" 
DEFINE BAR 12 OF listados PROM "Comisiones \<Diferenciadas" 

ON SELE BAR 1 OF listados DO _r220z2pcw
ON BAR 2 OF listados ACTI POPUP costos
ON BAR 3 OF listados ACTI POPUP costosypre
ON BAR 4 OF listados ACTI POPUP mostrador
ON BAR 5 OF listados ACTI POPUP mayorista
ON BAR 6 OF listados ACTI POPUP ofertas
ON BAR 8 OF listados ACTI POPUP artconporT
ON BAR 9 OF listados ACTI POPUP artconporP
ON BAR 11 OF listados ACTI POPUP comisio
ON BAR 12 OF listados ACTI POPUP comidif

DEFINE POPUP costos MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF costos PROM "Completo"
DEFINE BAR 2 OF costos PROM "Por Rubro"
DEFINE BAR 3 OF costos PROM "Por Proveedor"
DEFINE BAR 4 OF costos PROM "Por Agrupaciуn"
ON SELE BAR 1 OF costos DO _r220z2phl
ON SELE BAR 2 OF costos DO _r220z2pit
ON SELE BAR 3 OF costos DO _r220z2pjx
ON SELE BAR 4 OF costos DO _r220z2pl5

DEFINE POPUP costosypre MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF costosypre PROM "Completo"
DEFINE BAR 2 OF costosypre PROM "Por Rubro"
DEFINE BAR 3 OF costosypre PROM "Por Proveedor"
DEFINE BAR 4 OF costosypre PROM "Por Agrupacion"
ON SELE BAR 1 OF costosypre DO _r220z2pp1
ON SELE BAR 2 OF costosypre DO _r220z2pq7
ON SELE BAR 3 OF costosypre DO _r220z2prd

DEFINE POPUP mostrador MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF mostrador PROM "\<Completo"
DEFINE BAR 2 OF mostrador PROM "\<Por Rubro"
DEFINE BAR 3 OF mostrador PROM "\<Por Proveedor"
DEFINE BAR 4 OF mostrador PROM "\<Por Agrupaciуn"
ON SELE BAR 1 OF mostrador DO LPRE WITH 1,1
ON SELE BAR 2 OF mostrador DO LPRE WITH 2,1
ON SELE BAR 3 OF mostrador DO LPRE WITH 3,1

DEFINE POPUP mayorista MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF mayorista PROM "\<Completo"
DEFINE BAR 2 OF mayorista PROM "Por \<Rubro"
DEFINE BAR 3 OF mayorista PROM "Por \<Proveedor"
ON SELE BAR 1 OF mayorista DO LPRE WITH 1,4
ON SELE BAR 2 OF mayorista DO LPRE WITH 2,4
ON SELE BAR 3 OF mayorista DO LPRE WITH 3,4

DEFINE POPUP ofertas MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF ofertas PROM "\<Por Rubro"
DEFINE BAR 2 OF ofertas PROM "\<Por Proveedor"
DEFINE BAR 3 OF ofertas PROM "\<Por Teclado"
ON SELE BAR 1 OF ofertas DO _r220z2q2p
ON SELE BAR 2 OF ofertas DO _r220z2q3w
ON SELE BAR 3 OF ofertas DO _r220z2q57

DEFINE POPUP artconporP MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF artconporP PROM "Por Pantalla"
DEFINE BAR 2 OF artconporP PROM "Por Impresora"

ON SELE BAR 1 OF artconporP DO pordif with .t.,.T.
ON SELE BAR 2 OF artconporP DO pordif WITH .F.,.T.

DEFINE POPUP artconporT MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF artconporT PROM "Por Pantalla"
DEFINE BAR 2 OF artconporT PROM "Por Impresora"

DEFINE POPUP comisio MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF comisio PROM "\<Completo"
DEFINE BAR 2 OF comisio PROM "\<Por Rubro"
DEFINE BAR 3 OF comisio PROM "\<Por Proveedor"
DEFINE BAR 4 OF comisio PROM "\<Por Agrupaciуn"
ON SELE BAR 1 OF comisio DO LPRE WITH 1,6
ON SELE BAR 2 OF comisio DO LPRE WITH 2,6
ON SELE BAR 3 OF comisio DO LPRE WITH 3,6
ON SELE BAR 4 OF comisio DO LPRE WITH 4,6

DEFINE POPUP comidif MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF comidif PROM "\<Completo"
DEFINE BAR 2 OF comidif PROM "\<Por Rubro"
DEFINE BAR 3 OF comidif PROM "\<Por Proveedor"
DEFINE BAR 4 OF comidif PROM "\<Por Agrupaciуn"
ON SELE BAR 1 OF comidif DO LPRE WITH 1,7
ON SELE BAR 2 OF comidif DO LPRE WITH 2,7
ON SELE BAR 3 OF comidif DO LPRE WITH 3,7
ON SELE BAR 4 OF comidif DO LPRE WITH 4,7

ON SELE BAR 1 OF artconporT DO pordif with .t.
ON SELE BAR 2 OF artconporT DO pordif

DEFINE POPUP agenda MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF agenda PROM "\<Datos Generales"
DEFINE BAR 2 OF agenda PROM "\<Legajo"
ON SELE BAR 1 OF agenda DO AGE
ON SELE BAR 2 OF agenda DO AGE

DEFINE POPUP variables MARGIN RELATIVE SHADOW COLOR SCHEME 4
DEFINE BAR 1 OF variables PROM "Cantidad de \<Dнgitos"
DEFINE BAR 2 OF variables PROM "Ancho de la \<Hoja"
DEFINE BAR 3 OF variables PROM "Ancho de la \<Impresora"
DEFINE BAR 4 OF variables PROM "\<Popops a Utilizar"
DEFINE BAR 5 OF variables PROM "\<Modifica Porcentajes"
ON SELE BAR 1 OF variables do acdigi
ON SELE BAR 2 OF variables do achoja.SPR
ON SELE BAR 3 OF variables do acancho.SPR
ON SELE BAR 4 OF variables do acpopu.spr
ON SELE BAR 5 OF variables do acporc.spr


*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є                 Cleanup Code & Procedures               є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*

DO WHILE .T.
   ACTI MENU MAIN
   IF GETENV("USERNAME")="GOYO" .AND. ;
      LAST()=27
      EXIT
    ENDIF
ENDDO
SET SYSM TO DEFA
RETURN

*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2MXE  ON SELE BAR 2 OF POPUP varios          є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:    6       є
*       є Called By:  ON SELE BAR 2 OF POPUP varios          є
*       є PROM:     Ciudades                                    є
*       є Snippet:    1                                           є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2mxe
=OPPRV()
=OPCIU()
DO GRL WITH 4,5,'Menъ de Ciudades'
ON SELE POPU grl DO ciu
ACTI POPU grl
RELE POPU grl



*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2NC5  ON SELE BAR 2 OF POPUP partida         є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:   24       є
*       є Called By:  ON SELE BAR 2 OF POPUP partida         є
*       є PROM:     Por Proveedor                               є
*       є Snippet:    2                                           є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2nc5
=opmer()
=oppro()
store nul to m.respuesta
if elipro("a Ingresar",-1,1)
   elcod=per.codcli
   elpro=alltrim(per.cliente)
   store "" to m.eltex
if intex("Detalle de la Partida",30) .and. ;
confirma("ingresar texto al proveedor "+elpro,.t.,20,1)
sele mer
=flock() .or. flok()
=working()
=dotalk()
repl partida with m.eltex for proveedor=elcod
=untalk()
=unwork()
unlo in mer
endif
endif



*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2NFT  ON SELE BAR 1 OF POPUP importaciу      є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:   33       є
*       є Called By:  ON SELE BAR 1 OF POPUP importaciу      є
*       є PROM:     Datos de la Partida                         є
*       є Snippet:    3                                           є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2nft
=OPPRO()
=OPMER()
store nul to respuesta
if !empty(eliPRO("a Consultar",-1,1))
   sele mer
   fisc="MER.IMPORPROP .AND. mer.proveedor='"+per.codcli+"'"
   tt=" Por Proveedor: "+alltrim(per.cliente)+" "
   SELE MER
    SET ORDER TO TAG MERCA
   DEFI WIND WIN FROM 5,1 TO 29,79 TITL "Partida "+TT ;
FONT "ARIAL",10
ON KEY LABEL F10 KEYB CHR(23)

=CARTELX(" [F10] SALE ")

BROW FIEL ARTICULO:P="!!!!!!!!!!":R ,;
MERCA:R:H=PADC("DESCRIPCION",30):P=REPL("!",30) ,;
partida:h=padc("PARTIDA",30) ;
FOR &FISC ;
WIND WIN ;
FREE PARTIDA ;
NOMENU NODELETE

ON KEY LABEL F10
=RELEWIN("MENS")
ENDIF
RETURN RELEWIN("WIN") .AND. MEN_LIN(BOTOM)

FUNCTION CHIMP
REPL MER.IMPORPROP WITH !MER.IMPORPROP
RETURN .T.


*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2NT3  ON SELE BAR 1 OF POPUP listadopor      є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:   56       є
*       є Called By:  ON SELE BAR 1 OF POPUP listadopor      є
*       є PROM:     Listados Comunes                            є
*       є Snippet:    4                                           є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2nt3
=OPMIX()
M.PORLISMAY=GETNU1("PORLISMAY","FOXGRL")
M.PORLISMIN=GETNU1("PORLISMIN","FOXGRL")
M.FLETE=GETNU1("FLETE","FOXGRL")
=oprub()
=oppro()
=opmer()
SET ORDER TO TAG RUBRO
TT="Lista de Precios"
tt1="COSTOS"
repo form lmer1 nocon FOR LEFT(RUBRO,2)<"AR" to prin prompt



*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2OOW  ON SELE BAR 1 OF POPUP modificapr      є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:   97       є
*       є Called By:  ON SELE BAR 1 OF POPUP modificapr      є
*       є PROM:     Por Rubro                                   є
*       є Snippet:    5                                           є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2oow
PARAMETER LOSCOSTOS
=OPMER()
=OPRUB()
store nul to respuesta
if !empty(elirub("a Consultar",-1,1))
   sele mer
   fisc="mer.rubro='"+left(mix.texto2,3)+"'"
   tt=" Por Rubro: "+alltrim(mix.texto1)+" "
   IF LOSCOSTOS
      do MODPOR
   ELSE
   do MODPRE
   ENDIF
endif



*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2OQ3  ON SELE BAR 2 OF POPUP modificapr      є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:   98       є
*       є Called By:  ON SELE BAR 2 OF POPUP modificapr      є
*       є PROM:     Por Proveedor                               є
*       є Snippet:    6                                           є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2oq3
PARAMETER LOSCOSTOS
=OPMER()
=OPPRO()
store nul to respuesta
if !empty(eliPRO("a Consultar",-1,1))
   sele mer
   fisc="mer.proveedor='"+per.codcli+"'"
   tt=" Por Proveedor: "+alltrim(per.cliente)+" "
   IF LOSCOSTOS
   do MODPOR   
   ELSE
   do MODPRE
   ENDIF
endif



*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2OR7  ON SELE BAR 3 OF POPUP modificapr      є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:   99       є
*       є Called By:  ON SELE BAR 3 OF POPUP modificapr      є
*       є PROM:     Por Teclado                                 є
*       є Snippet:    7                                           є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2or7
PARAMETER LOSCOSTOS
=OPMER()
store "" to ELTEX
IF intex("Descripciуn a Listar",20)
   sele mer
   fisc="'"+alltrim(ELTEX)+"' $ mer.merca"
   tt=" Por Texto: "+alltrim(ELTEX)+" "
IF LOSCOSTOS
   do MODPOR
ELSE   
   do MODPRE
   ENDIF
endif



*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2OSL  ON SELE BAR 4 OF POPUP modificapr      є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:  100       є
*       є Called By:  ON SELE BAR 4 OF POPUP modificapr      є
*       є PROM:     Completo                                    є
*       є Snippet:    8                                           є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2osl
PARAMETER LOSCOSTOS
=OPMER()
store nul to respuesta
if !empty(eliMER("a Consultar",-1,1))
   sele mer
   fisc=".T."
   tt=" Completo "
IF LOSCOSTOS
   do MODPOR
ELSE   
   do MODPRE
   ENDIF
endif



*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2OTW  ON SELE BAR 6 OF POPUP modificapr      є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:  103       є
*       є Called By:  ON SELE BAR 6 OF POPUP modificapr      є
*       є PROM:     Global por Proveedor                        є
*       є Snippet:    9                                           є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2otw
=oppro()
=opmer()
store nul to respuesta
if elipro("a Corregir",-1,1)
	=POPCARTE(CRLF+;
	"PROVEEDOR SELECCIONADO:"+;
	CRLF+;
	ALLTRIM(PER.CLIENTE))
	ELPRO=PER.CODCLI
	STORE 0 TO M.RESPUESTA
	ELPORC=INFIC(100,"Porcentaje a actualizar")
	if !empty(m.ELPORC) .and. ;
	confirma("Aplicar "+alltrim(str(elporc,5,2))+" % al Proveedor",.t.,20,10)
	sele mer
	=flock() .or. flok()
	repl dolar with porcen(mer.dolar,elporc) for proveedor=elpro
	ENDIF
ELSE
=NOSELEC("PROVEEDOR")
endif
=relewin("POPCARTE")
UNLO IN MER


*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2OXM  ON SELE BAR 1 OF POPUP consultapr      є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:  108       є
*       є Called By:  ON SELE BAR 1 OF POPUP consultapr      є
*       є PROM:     Por Rubro                                   є
*       є Snippet:    10                                          є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2oxm
=OPMER()
=OPRUB()
store nul to respuesta
if !empty(elirub("a Consultar",-1,1))
   sele mer
   fisc="mer.rubro='"+left(mix.texto2,3)+"'"
   tt=" Por Rubro: "+alltrim(mix.texto1)+" "
	=CONSMER1()
endif



*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2OYS  ON SELE BAR 2 OF POPUP consultapr      є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:  109       є
*       є Called By:  ON SELE BAR 2 OF POPUP consultapr      є
*       є PROM:     Por Proveedor                               є
*       є Snippet:    11                                          є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2oys
=OPMER()
=OPPRO()
store nul to respuesta
if !empty(eliPRO("a Consultar",-1,1))
   sele mer
   fisc="mer.proveedor='"+per.codcli+"'"
   tt=" Por Proveedor: "+alltrim(per.cliente)+" "
	=CONSMER1()
endif



*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2OZX  ON SELE BAR 3 OF POPUP consultapr      є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:  110       є
*       є Called By:  ON SELE BAR 3 OF POPUP consultapr      є
*       є PROM:     Por Teclado                                 є
*       є Snippet:    12                                          є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2ozx
=OPMER()
store "" to ELTEX,RESPUESTA
IF intex("Descripciуn a Listar",20)
   sele mer
   fisc="'"+alltrim(ELTEX)+"' $ mer.merca"
   tt=" Por Texto: "+alltrim(ELTEX)+" "
	=CONSMER1()
endif



*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2P12  ON SELE BAR 4 OF POPUP consultapr      є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:  111       є
*       є Called By:  ON SELE BAR 4 OF POPUP consultapr      є
*       є PROM:     Completo                                    є
*       є Snippet:    13                                          є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2p12
=OPMER()
store nul to respuesta
if !empty(eliMER("a Consultar",-1,1))
   sele mer
   fisc=".T."
   tt=" Completo "
	=CONSMER()
endif



*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2P4Q  ON SELE BAR 1 OF POPUP _qvi0pvr5w      є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:  114       є
*       є Called By:  ON SELE BAR 1 OF POPUP _qvi0pvr5w      є
*       є PROM:     Por Rubro                                   є
*       є Snippet:    14                                          є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2p4q
=OPMER()
=OPRUB()
store nul to respuesta
if !empty(elirub("a Consultar",-1,1))
   sele mer
   fisc="mer.rubro='"+left(mix.texto2,3)+"'"
   tt=" Por Rubro: "+alltrim(mix.texto1)+" "
	=CONSMER()
endif



*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2P5X  ON SELE BAR 2 OF POPUP _qvi0pvr5w      є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:  115       є
*       є Called By:  ON SELE BAR 2 OF POPUP _qvi0pvr5w      є
*       є PROM:     Por Proveedor                               є
*       є Snippet:    15                                          є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2p5x
=OPMER()
=OPPRO()
store nul to respuesta
if !empty(eliPRO("a Consultar",-1,1))
   sele mer
   fisc="mer.proveedor='"+per.codcli+"'"
   tt=" Por Proveedor: "+alltrim(per.cliente)+" "
	=CONSMER()
endif



*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2P71  ON SELE BAR 3 OF POPUP _qvi0pvr5w      є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:  116       є
*       є Called By:  ON SELE BAR 3 OF POPUP _qvi0pvr5w      є
*       є PROM:     Por Teclado                                 є
*       є Snippet:    16                                          є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2p71
=OPMER()
store "" to ELTEX,RESPUESTA
IF intex("Descripciуn a Listar",20)
   sele mer
   fisc="'"+alltrim(ELTEX)+"' $ mer.merca"
   tt=" Por Texto: "+alltrim(ELTEX)+" "
	=CONSMER()
endif



*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2P86  ON SELE BAR 4 OF POPUP _qvi0pvr5w      є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:  117       є
*       є Called By:  ON SELE BAR 4 OF POPUP _qvi0pvr5w      є
*       є PROM:     Completo                                    є
*       є Snippet:    17                                          є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2p86
=OPMER()
store nul to respuesta
if !empty(eliMER("a Consultar",-1,1))
   sele mer
   fisc=".T."
   tt=" Completo "
	=CONSMER()
endif



*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2PCW  ON SELE BAR 1 OF POPUP listados        є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:  123       є
*       є Called By:  ON SELE BAR 1 OF POPUP listados        є
*       є PROM:     Cбtedras                                    є
*       є Snippet:    18                                          є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2pcw
=OPMER()
=OPCTD()
=OPCAT()
STORE NUL TO RESPUESTA
if elictd("a Listar",-1,1)
   tt="Cбtedra:"+alltrim(mix.texto1)
   elcod=left(mix.texto2,2)
M.PORLISMAY=GETNU1("PORLISMAY","FOXGRL")
M.PORLISMIN=GETNU1("PORLISMIN","FOXGRL")
M.FLETE=GETNU1("FLETE","FOXGRL")
SELE MER
SET ORDER TO TAG ARTICULO
SELE CAT
SET RELA TO ARTICULO INTO MER
TMP=GENTMP()
=FLOCK("CAT") .OR. FLOK("CAT")
=FLOCK("MER") .OR. FLOK("MER")
SELE CAT
SORT ON MER.MERCA ;
FIELD ARTICULO,CANTIDAD,LISTA ;
for catedra=elcod ;
TO (TMP)
UNLO ALL
=PRXAREA(.T.)
USE (TMP) ALIAS TMP
SET RELA TO ARTICULO INTO MER
IF TYPE("ENASCII")#"U" .AND. ENASCII
   REPO FORM LCAT1-F NOCON TO PRIN PROM
ELSE
   repo form lcat1 nocon to prin prompt
ENDIF
endif
=OFF_TMP()
=OFF_RELA()


*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2PHL  ON SELE BAR 1 OF POPUP costos          є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:  126       є
*       є Called By:  ON SELE BAR 1 OF POPUP costos          є
*       є PROM:     Completo                                    є
*       є Snippet:    19                                          є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2phl
=OPMIX()
M.PORLISMAY=GETNU1("PORLISMAY","FOXGRL")
M.PORLISMIN=GETNU1("PORLISMIN","FOXGRL")
M.FLETE=GETNU1("FLETE","FOXGRL")
=oprub()
=oppro()
=opmer()
SET ORDER TO TAG RUBRO
TT="Lista de Costos"
tt1="Completo"
repo form lPRE2 nocon to prin prompt



*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2PIT  ON SELE BAR 2 OF POPUP costos          є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:  127       є
*       є Called By:  ON SELE BAR 2 OF POPUP costos          є
*       є PROM:     Por Rubro                                   є
*       є Snippet:    20                                          є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2pit
=OPMIX()
M.PORLISMAY=GETNU1("PORLISMAY","FOXGRL")
M.PORLISMIN=GETNU1("PORLISMIN","FOXGRL")
M.FLETE=GETNU1("FLETE","FOXGRL")
=oprub()
=oppro()
=opmer()
store nul to respuesta
if !empty(elirub("a Consultar",-1,1))
   elcod=left(mix.texto2,3)
   sele mer
   set order to tag rubro
   TT="Lista de Costos"
   tt1=" Por Rubro: "+alltrim(mix.texto1)+" "
   repo form lPRE2 nocon for rubro=elcod to prin prompt
endif


*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2PJX  ON SELE BAR 3 OF POPUP costos          є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:  128       є
*       є Called By:  ON SELE BAR 3 OF POPUP costos          є
*       є PROM:     Por Proveedor                               є
*       є Snippet:    21                                          є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2pjx
=OPMIX()
M.PORLISMAY=GETNU1("PORLISMAY","FOXGRL")
M.PORLISMIN=GETNU1("PORLISMIN","FOXGRL")
M.FLETE=GETNU1("FLETE","FOXGRL")
=oprub()
=oppro()
=opmer()
store nul to respuesta
if !empty(eliPRO("a Consultar",-1,1))
   ELCOD=PER.CODCLI
   TT="Lista de Costos"
   tt1=" Por Proveedor: "+alltrim(per.cliente)+" "
   sele mer
   set order to tag rubro
   repo form lPRE2 nocon for proveedor=elcod to prin prompt
endif


*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2PL5  ON SELE BAR 4 OF POPUP costos          є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:  129       є
*       є Called By:  ON SELE BAR 4 OF POPUP costos          є
*       є PROM:     Por Agrupaciуn                              є
*       є Snippet:    22                                          є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2pl5
=OPMIX()
M.PORLISMAY=GETNU1("PORLISMAY","FOXGRL")
M.PORLISMIN=GETNU1("PORLISMIN","FOXGRL")
M.FLETE=GETNU1("FLETE","FOXGRL")
=oprub()
=oppro()
=opmer()
store nul to respuesta
if !empty(eliCAG("a Consultar",-1,1))
   elcod=left(mix.texto2,3)
   sele mer
   set order to tag rubro
   TT="Lista de Costos"
   tt1=" Por Agrupaciуn: "+alltrim(mix.texto1)+" "
   repo form lPRE2 nocon for rubro=elcod to prin prompt
endif


*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2PP1  ON SELE BAR 1 OF POPUP costosypre      є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:  132       є
*       є Called By:  ON SELE BAR 1 OF POPUP costosypre      є
*       є PROM:     Completo                                    є
*       є Snippet:    23                                          є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2pp1
=OPMIX()
M.PORLISMAY=GETNU1("PORLISMAY","FOXGRL")
M.PORLISMIN=GETNU1("PORLISMIN","FOXGRL")
M.FLETE=GETNU1("FLETE","FOXGRL")
=oprub()
=oppro()
=opmer()
SET ORDER TO TAG RUBRO
TT="Lista de Costos y Precios"
tt1="Completo"
repo form lPRE1 nocon to prin prompt



*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2PQ7  ON SELE BAR 2 OF POPUP costosypre      є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:  133       є
*       є Called By:  ON SELE BAR 2 OF POPUP costosypre      є
*       є PROM:     Por Rubro                                   є
*       є Snippet:    24                                          є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2pq7
=OPMIX()
M.PORLISMAY=GETNU1("PORLISMAY","FOXGRL")
M.PORLISMIN=GETNU1("PORLISMIN","FOXGRL")
M.FLETE=GETNU1("FLETE","FOXGRL")
=oprub()
=oppro()
=opmer()
store nul to respuesta
if !empty(elirub("a Consultar",-1,1))
   elcod=left(mix.texto2,3)
   sele mer
   set order to tag rubro
   TT="Lista de Costos y precios"
   tt1=" Por Rubro: "+alltrim(mix.texto1)+" "
   repo form lPRE1 nocon for rubro=elcod to prin prompt
endif


*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2PRD  ON SELE BAR 3 OF POPUP costosypre      є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:  134       є
*       є Called By:  ON SELE BAR 3 OF POPUP costosypre      є
*       є PROM:     Por Proveedor                               є
*       є Snippet:    25                                          є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2prd
=OPMIX()
M.PORLISMAY=GETNU1("PORLISMAY","FOXGRL")
M.PORLISMIN=GETNU1("PORLISMIN","FOXGRL")
M.FLETE=GETNU1("FLETE","FOXGRL")
=oprub()
=oppro()
=opmer()
store nul to respuesta
if !empty(eliPRO("a Consultar",-1,1))
   ELCOD=PER.CODCLI
   TT="Lista de Costos y Precios sin IVA"
   tt1=" Por Proveedor: "+alltrim(per.cliente)+" "
   sele mer
   set order to tag rubro
   repo form lPRE1 nocon for proveedor=elcod to prin prompt
endif


*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2Q2P  ON SELE BAR 1 OF POPUP ofertas         є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:  151       є
*       є Called By:  ON SELE BAR 1 OF POPUP ofertas         є
*       є PROM:     Por Rubro                                   є
*       є Snippet:    26                                          є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2q2p
=OPMIX()
M.PORLISMAY=GETNU1("PORLISMAY","FOXGRL")
M.PORLISMIN=GETNU1("PORLISMIN","FOXGRL")
M.FLETE=GETNU1("FLETE","FOXGRL")
=oprub()
=oppro()
=opmer()
store nul to respuesta
if !empty(elirub("a Consultar",-1,1))
   elcod=left(mix.texto2,3)
   sele mer
   set order to tag rubro
   TT="Lista de Ofertas Mayorista"
   tt1=" Por Rubro: "+alltrim(mix.texto1)+" "
   STORE "" TO M.ELTEX
   =INTEX("Texto del Tнtulo",40,tt1)
   M.TT1=ALLTRIM(M.ELTEX)
   IF TYPE("ENASCII")#"U" .AND. ENASCII
      repo form lofe1-F nocon for rubro=elcod to PRIN prompt
ELSE
   repo form lofe1 nocon for rubro=elcod to prin prompt
   ENDIF
endif


*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2Q3W  ON SELE BAR 2 OF POPUP ofertas         є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:  152       є
*       є Called By:  ON SELE BAR 2 OF POPUP ofertas         є
*       є PROM:     Por Proveedor                               є
*       є Snippet:    27                                          є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2q3w
=OPMIX()
M.PORLISMAY=GETNU1("PORLISMAY","FOXGRL")
M.PORLISMIN=GETNU1("PORLISMIN","FOXGRL")
M.FLETE=GETNU1("FLETE","FOXGRL")
=oprub()
=oppro()
=opmer()
store nul to respuesta
if !empty(eliPRO("a Consultar",-1,1))
   ELCOD=PER.CODCLI
   sele mer
   SET ORDER TO TAG RUBRO
   TT="Lista de Ofertas Mayorista"
   tt1=" Por Proveedor: "+alltrim(per.cliente)+" "
    IF TYPE("ENASCII")#"U" .AND. ENASCII
   repo form lofe2-F nocon for proveedor=elcod to PRIN prompt
ELSE
   repo form lofe2 nocon for proveedor=elcod to PRIN prompt
ENDIF
endif



*       ЦДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДД·
*       є                                                         є
*       є _R220Z2Q57  ON SELE BAR 3 OF POPUP ofertas         є
*       є                                                         є
*       є Procedure Origin:                                       є
*       є                                                         є
*       є From Menu:  MERCADER.MPR,            Record:  153       є
*       є Called By:  ON SELE BAR 3 OF POPUP ofertas         є
*       є PROM:     Por Teclado                                 є
*       є Snippet:    28                                          є
*       є                                                         є
*       УДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДДЅ
*
PROCEDURE _r220z2q57
=OPMIX()
M.PORLISMAY=GETNU1("PORLISMAY","FOXGRL")
M.PORLISMIN=GETNU1("PORLISMIN","FOXGRL")
M.FLETE=GETNU1("FLETE","FOXGRL")
=oprub()
=oppro()
=opmer()
=PRXAREA(.T.)
CREATE CURSOR TEMPORAL ;
(ARTICULO C(10),fecha d,usuario c(10))
eltex=crlf
DO WHILE .T.
store nul to respuesta
if !empty(eliMER("a Listar",-1,1))
   m.articulo=mer.articulo
   =agrabar("temporal")
   eltex=ELTEX+mer.articulo+"-"+ALLTRIM(MER.MERCA)+crlf
   =popcarte(eltex,.T.)
else
   exit
endif
ENDDO
if confirma("Mercaderнa a Listar",.t.,SROWS()-4,1)
   TT="Lista de Ofertas Mayorista"
   STORE "" TO M.ELTEX
   =INTEX("Texto del Tнtulo",40)
   M.TT1=ALLTRIM(M.ELTEX)
   SELE MER
   SET ORDER TO TAG ARTICULO
   sele temporal
   SET RELA TO ARTICULO INTO MER
       IF TYPE("ENASCII")#"U" .AND. ENASCII
      repo form lofe3-F nocon to PRIN PROM 
      ELSE
   repo form lofe3 nocon to prin prompt
   ENDIF
endif
=RELEWIN("POPCARTE")
SELE TEMPORAL
USE

PROCEDURE PORDIF
PARAMETER PORPAN, CONPROV
TMP=GENTMP()
=WORKING()
=DOTALK()
=OPMIX()
M.PORLISMAY=GETNU1("PORLISMAY","FOXGRL")
M.PORLISMIN=GETNU1("PORLISMIN","FOXGRL")
M.FLETE=GETNU1("FLETE","FOXGRL")
IF CONPROV
	IF !ELIPRO()
		=untalk()
		=unwork()
		RETURN
	ENDIF
ENDIF
=oprub()
=oppro()
=opmer()
SELE MER
=FLOCK() .OR. FLOK()
TT="Listado de Porc. de Utilidad"
tt1="Sуlo Diferenc. "+IIF(CONPROV,ALLT(PER.CLIENTE),'')
IF CONPROV
	SORT ON RUBRO,ARTIC TO (TMP) ;
		FOR (!EMPTY(PMAYOR) .OR. !EMPTY(PMINOR)) .AND. PROVEEDOR=PER.CODCLI
ELSE
	SORT ON RUBRO,ARTIC TO (TMP) ;
		FOR !EMPTY(PMAYOR) .OR. !EMPTY(PMINOR)
ENDIF
=UNLO_PRX("MER",TMP)
IF PORPAN
   REPO FORM ARTCPOR PREV
ELSE
   REPO FORM ARTCPOR TO PRIN PROM 
ENDIF
=untalk()
=unwork()
=OFF_TMP()
RETURN .T.

**************
*
PROCEDURE MODICOM1
=OPMER()
=OPRUB()
store nul to respuesta
if !empty(elirub("a Consultar",-1,1))
   sele mer
   fisc="mer.rubro='"+left(mix.texto2,3)+"'"
   tt=" Por Rubro: "+alltrim(mix.texto1)+" "
   do ABMCOMIS
endif

PROCEDURE MODICOM2
=OPMER()
=OPPRO()
store nul to respuesta
if !empty(eliPRO("a Consultar",-1,1))
   sele mer
   fisc="mer.proveedor='"+per.codcli+"'"
   tt=" Por Proveedor: "+alltrim(per.cliente)+" "
   do ABMCOMIS
endif


PROCEDURE MODICOM3
=OPMER()
store "" to ELTEX
IF intex("Descripciуn a Listar",20)
   sele mer
   fisc="'"+alltrim(ELTEX)+"' $ mer.merca"
   tt=" Por Texto: "+alltrim(ELTEX)+" "
   DO ABMCOMIS
endif


PROCEDURE MODICOM4
=OPMER()
store nul to respuesta
   sele mer
   fisc=".T."
   tt=" Completo "
   DO ABMCOMIS



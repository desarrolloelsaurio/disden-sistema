PROCEDURE AVI_DO
#DEFINE BOTOM  "  "+repl("°",78)                 && BOTOM
#DEFINE NUL    0                                 && NUL
#DEFINE PICUMAX "9,999,999,999,999.99"           && PICUMAX
#DEFINE PAIP   "|"                               && PAIP
#DEFINE CRLF CHR(13)+CHR(10)                     && CRLF
#DEFINE IMPRIMIENDO  PADC(' IMPRIMIENDO LOS DATOS REQUERIDOS - [TECLA] Interrumpe ',80,'°') && IMPRIMIENDO
DO CASE
CASE COD_HACER=1	&& LISTADO DE ARTICULOS QUE CONTIENEN ACCESORIO
   =LDESNA("A")
CASE COD_HACER=2	&& LISTADO DE LAS O.C. QUE TIENEN RESERVA DEL AVIO
   =WORKING()
   =DOTALK()
   TMP=GENTMP()
   SELE RPV
   SET ORDER TO
   =FLOCK() .OR. FLOK()
   SORT ON AVICODPRO,NUMERO TO (TMP) FOR AVICODPRO=AVIS.AVICODPRO .AND. !DELE()
   =UNLO_PRX("RPV",TMP)
   =UNTALK()
   =UNWORK()
   CASO="Av¡o:"+alltrim(avis.avicodpro)+" - "+ALLTRIM(avis.avio)
   TT="Listado de Reservas"+;
   CRLF+;
   CASO
   ACLA=PAIP+;
   PADC("N§ CORTE",10)+;
   PAIP+;
   PADC("ARTICULO",10)+;
   PAIP+;
   PADC("DESCRIPCION",30)+;
   PAIP+;
   PADC("RESERVA",XACDIGI)+;
   PAIP
   =XPRN1(4,"TMP","LRPV0(1)",UPPER(CASO),"LRPVA",.T.)   
   =OFF_TMP()
CASE COD_HACER=3	&& INGRESA CARACTERISTICAS
   DO ICAG.SPR WITH "AVIS"
ENDCASE

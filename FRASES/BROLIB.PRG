PROCEDURE BROLIB
PARAMETER SIGUE
CLEA READ
=OFF_RELA()
DEFINE WIND LIB FROM 13,0 TO 24,79 TITL "F5:AUT / F6:LIB " DOUB
ACTI WIND LIB
SELE AUT
SET ORDER TO TAG CODIGO
SELE PER
SET ORDER TO TAG CODCLI
SELE MIX
SET ORDER TO TAG COLECCION
SELE LIB
SET RELA TO AUTOR1 INTO AUT ADDI
SET RELA TO EDITORIAL INTO PER ADDI
SET RELA TO EDITORIAL+STR(COLECCION,4) INTO MIX ADDI
IF SIGUE
BROW FIELD LIBRO:P="@S35" ,;
AUTOR1 ,;
EDITORIAL ,;
COLECCION:P="9999":H="COLE" ,;
NUMERO:P="9999":H="NUM." ,;
ANIO:P="9999" ;
IN LIB NOWA
ELSE
BROW FIELD LIBRO:P="@S25":V=!XSEEK(LIBRO,'LIB','LIBRO'):E="LIBRO EXISTE" ,;
AUTOR1:V=AUT3("LIB"), ;
EDITORIAL:P="@!" ,;
COLECCION:P="9999":H="COLE" ,;
NUMERO:P="9999":H="NUM." ,;
ANIO:P="9999" ,;
LOTENGO:H="SI" ,;
DISTINCION:H="DIST" ;
IN LIB
ENDIF
RETURN

FUNCTION IREM1
	STORE .T. TO CONTI
	DO WHILE .T.
		STORE NUL TO RESPUESTA
		IF !EMPTY(ELIMER(" A REMITAR - [ESC] PARA SALIR",REN,C1)) && OJO
			STORE NAMER+1 TO NAMER
			STOR MER.ARTICULO TO M.ARTICULO
			STORE NUL TO M.CANTIDAD
			ACTI WIND WIN
			WAIT "STOCK:"+STR(MER.STOCK)+" " WIND NOWA
			@ REN,C1 SAY M.ARTICULO
			@ REN,C2 SAY LEFT(MER.MERCA,35)
			SELE REX
			@ REN,C3 GET M.CANTIDAD PICTU '999999';
			MESS " Cantidad a Remitar "
			READ
			IF !EMPTY(M.CANTIDAD)
				UNITARIO=IIF(DEVENTA,PORCEN(MER.COSTO,IIF(M.CLIPRE=1,MER.PRECIO1,IIF(M.CLIPRE=2,MER.PRECIO2,IIF(M.CLIPRE=3,MER.PRECIO3,MER.PRECIO4)))),MER.COSTO)
				M.MONORI=UNITARIO
				UNITARIO=PORCEN(UNITARIO,M.TESUBO,0)
				STOR NUL TO NADA,NADTOT
				STORE IIF(NADA9#XAMONEDA,ROUND(IIF(XAMONEDA=XAUSS,UNITARIO/NADA10,UNITARIO*NADA10),2),UNITARIO) TO ;
				M.MONTO,M.MONTO1
				@ REN,C4 GET M.MONTO1 PICT PICU
				READ
				IF confirm1('Los Datos Ingresados',.T.,20,30)
					NACA=M.CANTIDAD*M.MONTO1
					STOR ROUND(M.VALORIZ+NACA,2) TO M.VALORIZ
					STORE M.NADTOT+M.VALORIZ TO M.NADTOT
					STORE M.CANTOT+M.CANTIDAD TO M.CANTOT
					SELE REX
					PUNTERO=PUNTERO+1
					DIME FAXT[PUNTERO,8]
					FAXT[PUNTERO,1]=M.REMITO
					FAXT[PUNTERO,2]=M.ARTICULO
					FAXT[PUNTERO,3]=M.CANTIDAD
					FAXT[PUNTERO,4]=M.MONORI
					FAXT[PUNTERO,5]=M.MONTO
					FAXT[PUNTERO,6]=M.MONTO1
					=REPUSE1(@FAXT,PUNTERO,7)
					@ 22,C3 SAY CANTOT PICT '999999'
					@ 22,C4 SAY M.NADTOT PICT PICU
					STORE .T. TO SIGUE,FUERA
					STORE REN+1 TO REN
					IF REN>20
						=REMDMASK()
						REN=10
					ENDI
				ELSE
					=MENOSREN(10)
				ENDIF
			ELSE
				=MENOSREN(10)
			ENDIF
		ELSE
			IF LAST()=27
				EXIT
			ENDIF
		ENDIF
	ENDD
RETURN

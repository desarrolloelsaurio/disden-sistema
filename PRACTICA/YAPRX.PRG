FUNCTION YAPRX
PARAMETER Y_TIT,Y_BLANCO,Y_WIN,HAYCOD
IF !EMPTY(Y_TIT)
   WAIT Y_TIT+" EXISTE" WIND NOWA
ENDIF
IF HAYCOD
   M.NADA=M.CODPRA
ELSE
   M.NADA=""   
ENDIF
SELE PRX
IF Y_BLANCO
   SCAT MEMO MEMV BLAN
   SCAT TO RESPALDO BLAN MEMO
   STORE .T. TO INGRESO
   M.CODPRA=M.NADA
ELSE
   FF=RECNO("PRX")
   REGISTRO=STR(FF)
   UNLO IN PRX
   =LOCK("PRX") .OR. LOK("PRX")
   SCAT MEMO MEMV
   SCAT MEMO TO RESPALDO    
   STORE .F. TO INGRESO
ENDIF
STORE .F. TO CAMBIO
=SGET("XPRA")
IF !EMPTY(Y_TIT)
   WAIT CLEA
ENDIF
RETURN .T.

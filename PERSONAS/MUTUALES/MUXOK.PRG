FUNCTION MUXOK
EXTERNAL ARRAY OBS
IF OKMUT1()
IF M.INGRESO
   FOR M.MU_COD=1 TO 4
      M.TIPO=Q_MUXTIP(M.MU_COD=1)
      M.AC_PACIEN=PAC[M.MU_COD]
      M.AC_MUTUAL=OBS[M.MU_COD]
      =AGRABAR("MUX")
      =IAUD(M.TIPO)
   NEXT
ELSE
   SELE MUX
   SET ORDER TO TAG TIPO
   FOR M.MU_COD=1 TO 4
      M.TIPO=Q_MUXTIP(M.MU_COD=1)
    IF SEEK(M.CODMUT+M.CODPLAN+M.TIPO)
      SCAT MEMV
      M.AC_PACIEN=PAC[M.MU_COD]
      M.AC_MUTUAL=OBS[M.MU_COD]
      =AGRABAR1("MUX",RECNO())
      =IAUD(M.TIPO)
      ENDIF
   NEXT
ENDIF
ENDIF
UNLO IN MUX
_CUROBJ=M.PRIOBJ
RETURN .T.

*       *********************************************************
*       *                                                         
*       * 09/05/2024           QUERYPER.PRG              16:02:11 
*       *                                                         
*       *********************************************************
*       *                                                         
*       * Author's Name                                           
*       *                                                         
*       * Copyright (c) 2024 Company Name                         
*       * Address                                                 
*       * City,     Zip                                           
*       *                                                         
*       * Description:                                            
*       * This program was automatically generated by GENSCRN.    
*       *                                                         
*       *********************************************************


#REGION 0
REGIONAL m.currarea, m.talkstat, m.compstat

IF SET("TALK") = "ON"
	SET TALK OFF
	m.talkstat = "ON"
ELSE
	m.talkstat = "OFF"
ENDIF
m.compstat = SET("COMPATIBLE")
SET COMPATIBLE FOXPLUS

m.rborder = SET("READBORDER")
SET READBORDER ON

*       *********************************************************
*       *                                                         
*       *               Windows Window definitions                
*       *                                                         
*       *********************************************************
*

IF NOT WEXIST("queryper") ;
	OR UPPER(WTITLE("QUERYPER")) == "QUERYPER.PJX" ;
	OR UPPER(WTITLE("QUERYPER")) == "QUERYPER.SCX" ;
	OR UPPER(WTITLE("QUERYPER")) == "QUERYPER.MNX" ;
	OR UPPER(WTITLE("QUERYPER")) == "QUERYPER.PRG" ;
	OR UPPER(WTITLE("QUERYPER")) == "QUERYPER.FRX" ;
	OR UPPER(WTITLE("QUERYPER")) == "QUERYPER.QPR"
	DEFINE WINDOW queryper ;
		AT  0.000, 0.000  ;
		SIZE 17.409,68.500 ;
		TITLE ' Listado de '+ANTtexto[3]+' ' ;
		FOOTER ' '+janname+' ' ;
		FONT "MS Sans Serif", 8 ;
		STYLE "B" ;
		NOFLOAT ;
		NOCLOSE ;
		SHADOW ;
		NOMINIMIZE ;
		DOUBLE ;
		COLOR SCHEME 1
	MOVE WINDOW queryper CENTER
ENDIF


*       *********************************************************
*       *                                                         
*       *         QUERYPER/Windows Setup Code - SECTION 2         
*       *                                                         
*       *********************************************************
*

#REGION 1

EXTERNAL PROCEDURE AJCODPER
EXTERNAL ARRAY TEXTO
EXTERNAL ARRAY CONTENIDO
EXTERNAL ARRAY ANTTEXTO
=HORA_ULP(PROGRAM())
*
* Inserted file \SISTEMAS\DEFINES.PRG not found!
*
IF CHEQSEG()
   SELE PER
   SCAT MEMV BLAN MEMO
   RELE SALQU
   PUBL SALQU
   STORE "" TO M.RETORNO,M.TT,M.FISC
   STORE "" TO M.TTPER,M.TTCIU,M.TTDNI,m.ttiva
   STORE "" TO M.QUEPER,M.QUECIU,M.QUEDNI,m.queiva
   STORE NUL TO M.FILPER,M.FILCIU,M.FILDNI,m.filiva
   STORE .F. TO M.HUBORES,UNDOC
store 1 to minobj
store 3 to maxobj
CANT_MAX=11
TTQUE="Listado de "+ANTTEXTO[3]
DIME VARIABLE[CANT_MAX], Habilitado[CANT_MAX],habilant[cant_max]
STORE .T. TO HABILITADO
      DIME TEXTO[CANT_MAX,2]
      TEXTO[1,1]="CODIGO"
      TEXTO[2,1]=UPPER(ANTTEXTO[1])
      TEXTO[3,1]="DOMICILIO"
      TEXTO[4,1]="LOCALIDAD"
      TEXTO[5,1]="TELEFONO"
      TEXTO[6,1]="FAX"
      TEXTO[7,1]="DOCUMENTO"
      TEXTO[8,1]="COND. IVA"
      TEXTO[9,1]="N§ CUIT"
      TEXTO[10,1]=UPPER(ANTTEXTO[5])
      TEXTO[11,1]=UPPER(ANTTEXTO[6])
      TEXTO[1,2]=10
      TEXTO[2,2]=30
      TEXTO[3,2]=30
      TEXTO[4,2]=12
      TEXTO[5,2]=IIF(PORPAN,10,20)
      TEXTO[6,2]=12
      TEXTO[7,2]=17
      TEXTO[8,2]=IIF(PORPAN,2,20)
      TEXTO[9,2]=15
      TEXTO[10,2]=8
      TEXTO[11,2]=40
      STORE CONTENIDO[7] TO HABILITADO[7]
      STORE CONTENIDO[8] TO HABILITADO[9],HABILITADO[8]


*       *********************************************************
*       *                                                         
*       *             QUERYPER/Windows Screen Layout              
*       *                                                         
*       *********************************************************
*

#REGION 1
IF WVISIBLE("queryper")
	ACTIVATE WINDOW queryper SAME
ELSE
	ACTIVATE WINDOW queryper NOSHOW
ENDIF
@ 3.378,1.125 SAY texto[10] ;
	SIZE 1.125,19.000 ;
	FONT "MS Sans Serif", 8
@ 11.261,1.125 SAY texto[5] ;
	SIZE 1.125,19.000 ;
	FONT "MS Sans Serif", 8
@ 12.387,1.125 SAY texto[6] ;
	SIZE 1.125,19.000 ;
	FONT "MS Sans Serif", 8
@ 4.504,1.000 SAY "Domicilio" ;
	FONT "MS Sans Serif", 8 ;
	STYLE "B"
@ 5.631,1.000 SAY "Localidad" ;
	FONT "MS Sans Serif", 8 ;
	STYLE "B"
@ 7.883,1.000 SAY "Fax" ;
	FONT "MS Sans Serif", 8 ;
	STYLE "B"
@ 1.126,1.000 SAY "C¢digo" ;
	FONT "MS Sans Serif", 8 ;
	STYLE "B"
@ 9.009,1.000 SAY "Tipo Doc. Identidad" ;
	FONT "MS Sans Serif", 8 ;
	STYLE "B"
@ 10.135,1.000 SAY "Cond. I.V.A." ;
	FONT "MS Sans Serif", 8 ;
	STYLE "B"
@ 6.757,1.000 SAY "Tel‚fono" ;
	FONT "MS Sans Serif", 8 ;
	STYLE "B"
@ 1.126,22.625 GET m.codcli1 ;
	SIZE 1.125,10.000 ;
	DEFAULT " " ;
	FONT "MS Sans Serif", 8 ;
	PICTURE REPL('!',CONTENIDO[2]+1) ;
	WHEN _6wa0yddew() ;
	VALID _6wa0yddfe() ;
	MESSAGE "Ingrese C¢digo de "+tipo_per+" - [ESC] para Men£"+TEX_EFES ;
	ERROR 'CODCLI DE '+UPPER(TIPO_PER)+' EXISTE'
@ 1.126,34.625 SAY IIF(EMPTY(M.CODCLI1),"",SAYPER(M.CODCLI1,CONTENIDO[3])) ;
	SIZE 1.125,30.000 ;
	FONT "MS Sans Serif", 8 ;
	PICTURE "@!"
@ 2.252,22.625 GET m.codcli2 ;
	SIZE 1.125,10.000 ;
	DEFAULT " " ;
	FONT "MS Sans Serif", 8 ;
	PICTURE REPL('!',CONTENIDO[2]+1) ;
	WHEN _6wa0yddfk() ;
	VALID SGET("QUERYPER") ;
	MESSAGE "Ingrese C¢digo de "+tipo_per+" - [ESC] para Men£"+TEX_EFES ;
	ERROR 'CODCLI DE '+UPPER(TIPO_PER)+' EXISTE'
@ 2.252,34.625 SAY IIF(EMPTY(M.CODCLI2),"",SAYPER(M.CODCLI2,CONTENIDO[3])) ;
	SIZE 1.125,30.000 ;
	FONT "MS Sans Serif", 8 ;
	PICTURE "@!"
@ 3.378,22.625 GET m.CLIENTE ;
	SIZE 1.125,30.000 ;
	DEFAULT " " ;
	FONT "MS Sans Serif", 8 ;
	PICTURE "@!" ;
	WHEN OFF_F2() ;
	MESSAGE "Ingrese Nombre o Raz¢n Social de "+tipo_per+TEX_EFES
@ 4.504,22.625 GET m.domicilio ;
	SIZE 1.125,30.000 ;
	DEFAULT " " ;
	FONT "MS Sans Serif", 8 ;
	PICTURE "@!" ;
	MESSAGE "Domicilio del "+tipo_per
@ 5.631,22.625 GET m.localidad ;
	SIZE 1.125,4.000 ;
	DEFAULT 0 ;
	FONT "MS Sans Serif", 8 ;
	PICTURE "9999" ;
	WHEN MIX_F2("M.LOCALIDAD","del "+texto[1],5,11,"MIX.NU1","CIUTEX",5,34) ;
	VALID SGET("QUERYPER") ;
	MESSAGE "Localidad del "+tipo_per+TEX_EFES
@ 5.631,34.625 SAY IIF(EMPTY(M.LOCALIDAD),"",SAYMIX(M.localidad,'CIUCOD')) ;
	SIZE 1.125,21.000 ;
	FONT "MS Sans Serif", 8 ;
	PICTURE "@!"
@ 6.757,22.625 GET m.telefono ;
	SIZE 1.125,20.000 ;
	DEFAULT " " ;
	FONT "MS Sans Serif", 8 ;
	PICTURE "@!" ;
	WHEN OFF_F2() ;
	MESSAGE "Tel‚fono del "+tipo_per
@ 7.883,22.625 GET m.fax ;
	SIZE 1.125,20.000 ;
	DEFAULT " " ;
	FONT "MS Sans Serif", 8 ;
	PICTURE "@!" ;
	MESSAGE "Fax del "+tipo_per
@ 9.009,22.625 GET m.TIPODOC ;
	SIZE 1.125,2.000 ;
	DEFAULT " " ;
	FONT "MS Sans Serif", 8 ;
	PICTURE "!!" ;
	WHEN MIX_F2("M.TIPODOC","del "+texto[1],8,22,"LEFT(MIX.TEXTO2,2)","DNITEX",8,34) ;
	VALID EMPTY(M.TIPODOC) .OR. VALIDMIX("TIPODOC","M.TIPODOC","DNICOD","PER",.F.,.T.,"PER") ;
	MESSAGE "Ingrese Tipo de Documento del "+texto[1]+tex_efes ;
	ERROR "TIPO DE DOCUMENTO INEXISTENTE"
@ 9.009,34.625 SAY IIF(EMPTY(M.TIPODOC),"",SAYMIX(M.TIPODOC,'DNICOD')) ;
	SIZE 1.125,21.000 ;
	FONT "MS Sans Serif", 8 ;
	PICTURE "@!"
@ 10.135,22.625 GET m.condiva ;
	SIZE 1.125,2.000 ;
	DEFAULT 0 ;
	FONT "MS Sans Serif", 8 ;
	PICTURE "!!" ;
	WHEN MIX_F2("M.CONDIVA","del "+texto[1],9,22,"LEFT(MIX.TEXTO2,2)","IVATEX",9,34) ;
	VALID EMPTY(M.CONDIVA) .OR. VALIDMIX("CONDIVA","M.CONDIVA","IVACOD","PER",.F.,.T.,"PER") ;
	MESSAGE "Ingrese Condici¢n de I.V.A. del "+texto[1]+tex_efes ;
	ERROR "CONDICION DE I.V.A. NO EXISTE"
@ 10.135,34.625 SAY IIF(EMPTY(M.CONDIVA),"",SAYMIX(M.CONDIVA,'IVACOD')) ;
	SIZE 1.125,21.000 ;
	FONT "MS Sans Serif", 8 ;
	PICTURE "@!"
@ 11.261,22.625 GET m.fechanac ;
	SIZE 1.125,8.000 ;
	DEFAULT {  /  /  } ;
	FONT "MS Sans Serif", 8 ;
	WHEN off_f2() ;
	MESSAGE TEXTO[5]+" del "+texto[1]
@ 12.387,22.625 GET m.detalle ;
	SIZE 1.125,40.000 ;
	DEFAULT {  /  /  } ;
	FONT "MS Sans Serif", 8 ;
	WHEN off_f2() ;
	MESSAGE TEXTO[5]+" del "+texto[1]
@ 14.640,22.500 GET m.lista ;
	PICTURE "@*HN \!Confirma;\?Anula" ;
	SIZE 1.769,10.000,1.000 ;
	DEFAULT 1 ;
	FONT "MS Sans Serif", 8 ;
	STYLE "B" ;
	VALID _6wa0yddfv()
@ 1.000,1.000 GET M.FILPER ;
	PICTURE "@*RVN \<Completo;\<Entre C¢digos;\<Opciones" ;
	SIZE 1.308,17.000,0.000 ;
	DEFAULT 1 ;
	FONT "MS Sans Serif", 8 ;
	STYLE "B" ;
	WHEN betw(_curobj,minobj,maxobj)			 ;
	VALID _6wa0yddgh()
@ 1.000,20.000 GET m.filciu ;
	PICTURE "@*RVN Todas las Ciudades;Una Ciudad;\<Opciones" ;
	SIZE 1.308,22.000,0.000 ;
	DEFAULT 1 ;
	FONT "MS Sans Serif", 8 ;
	STYLE "B" ;
	WHEN betw(_curobj,minobj,maxobj) ;
	VALID _6wa0yddgl()
@ 1.000,44.000 GET m.fildni ;
	PICTURE "@*RVN Todos los Documentos;Un Documento;\<Opciones" ;
	SIZE 1.308,24.000,0.000 ;
	DEFAULT 1 ;
	FONT "MS Sans Serif", 8 ;
	STYLE "B" ;
	WHEN betw(_curobj,minobj,maxobj) ;
	VALID _6wa0yddgq()
@ 5.000,1.000 GET m.filiva ;
	PICTURE "@*RVN Todas las C IVA;Una Condici¢n;\<Opciones" ;
	SIZE 1.308,19.000,0.000 ;
	DEFAULT 1 ;
	FONT "MS Sans Serif", 8 ;
	STYLE "B" ;
	WHEN betw(_curobj,minobj,maxobj) ;
	VALID _6wa0yddhc()

IF NOT WVISIBLE("queryper")
	ACTIVATE WINDOW queryper
ENDIF

READ CYCLE ;
	SHOW _6wa0yddhf()

RELEASE WINDOW queryper

#REGION 0

SET READBORDER &rborder

IF m.talkstat = "ON"
	SET TALK ON
ENDIF
IF m.compstat = "ON"
	SET COMPATIBLE ON
ENDIF


*       *********************************************************
*       *                                                         
*       *              QUERYPER/Windows Cleanup Code              
*       *                                                         
*       *********************************************************
*

#REGION 1
ELSE
   =IAUDI()
ENDIF
UNLO IN PER
=KTRUCH()
   RELE MIX_VARI,MIX_T1,MIX_R1,MIX_C1,MIX_COD,MIX_IND,MIX_R2,MIX_C2,MIX_ALIAS,MIX_CAMPO,MIX_LARGO
RETURN M.FISC


*       *********************************************************
*       *                                                         
*       * _6WA0YDDEW           m.codcli1 WHEN                     
*       *                                                         
*       * Function Origin:                                        
*       *                                                         
*       * From Platform:       Windows                            
*       * From Screen:         QUERYPER,     Record Number:   18  
*       * Variable:            m.codcli1                          
*       * Called By:           WHEN Clause                        
*       * Object Type:         Field                              
*       * Snippet Number:      1                                  
*       *                                                         
*       *********************************************************
*
FUNCTION _6wa0yddew     &&  m.codcli1 WHEN
#REGION 1
ON KEY LABEL F2 M.CODCLI1=QUEPOPUP("a Corregir",1,22)
ON KEY LABEL F3 M.CODCLI1=SEEKTECX(30,'PER','CLIENTE','PER.CODCLI',CONTENIDO[4],ALIAS(),ORDER(),1,34)
RETURN .t.

*       *********************************************************
*       *                                                         
*       * _6WA0YDDFE           m.codcli1 VALID                    
*       *                                                         
*       * Function Origin:                                        
*       *                                                         
*       * From Platform:       Windows                            
*       * From Screen:         QUERYPER,     Record Number:   18  
*       * Variable:            m.codcli1                          
*       * Called By:           VALID Clause                       
*       * Object Type:         Field                              
*       * Snippet Number:      2                                  
*       *                                                         
*       *********************************************************
*
FUNCTION _6wa0yddfe     &&  m.codcli1 VALID
#REGION 1
M.CODCLI1=EVAL(TEXTO[4])
RETURN SGET("QUERYPER")

*       *********************************************************
*       *                                                         
*       * _6WA0YDDFK           m.codcli2 WHEN                     
*       *                                                         
*       * Function Origin:                                        
*       *                                                         
*       * From Platform:       Windows                            
*       * From Screen:         QUERYPER,     Record Number:   20  
*       * Variable:            m.codcli2                          
*       * Called By:           WHEN Clause                        
*       * Object Type:         Field                              
*       * Snippet Number:      3                                  
*       *                                                         
*       *********************************************************
*
FUNCTION _6wa0yddfk     &&  m.codcli2 WHEN
#REGION 1
ON KEY LABEL F2 M.CODCLI2=QUEPOPUP("a Corregir",1,22)
ON KEY LABEL F3 M.CODCLI2=SEEKTECX(30,'PER','CLIENTE','PER.CODCLI',CONTENIDO[4],ALIAS(),ORDER(),1,34)
RETURN .t.

*       *********************************************************
*       *                                                         
*       * _6WA0YDDFV           m.lista VALID                      
*       *                                                         
*       * Function Origin:                                        
*       *                                                         
*       * From Platform:       Windows                            
*       * From Screen:         QUERYPER,     Record Number:   34  
*       * Variable:            m.lista                            
*       * Called By:           VALID Clause                       
*       * Object Type:         Push Button                        
*       * Snippet Number:      4                                  
*       *                                                         
*       *********************************************************
*
FUNCTION _6wa0yddfv     &&  m.lista VALID
#REGION 1
IF M.LISTA=1 .AND. LAST()#27
   =WORKING()
   =DOTALK()
   FISC=QW_FISC(FISC,QUEPER)
   FISC=QW_FISC(FISC,QUECIU)
   FISC=QW_FISC(FISC,"FILTRO='"+LEFT(CONTENIDO[5],1)+"'")
   ***** TITULOS
   TT=TTQUE+QW_TT(TTPER)+QW_TT(TTCIU)
   SELE PER
   TMP=GENTMP()
   SELE PER
   SET ORDER TO
   =FLOCK() .OR. FLOK()
   SORT ON CLIENTE TO (TMP) FOR &FISC
   =UNLO_PRX("PER",TMP,"TMP")
   DIME VARIABLE[CANT_MAX],HABILITADO[CANT_MAX]
   STORE .T. TO VARIABLE,HABILITADO
   =UNTALK()
   =UNWORK()
   DO WHILE(CFGFAC())
      ACLA=HAZ_ACLA()
      =XPRN1(4,"TMP","LPER1()","","LPER")
   ENDDO
   =OFF_TMP()
   STORE .T. TO VARIABLE,HABILITADO
store 1 to minobj
store 3 to maxobj
   STORE "" TO M.TT,M.FISC
   STORE "" TO M.TTPER,M.TTCIU,M.TTDNI
   STORE "" TO M.QUEPER,M.QUECIU,M.QUEDNI
   STORE NUL TO M.FILPER,M.FILCIU,M.FILDNI
   STORE 1 TO _CUROBJ
ELSE
   CLEA READ
ENDIF
RETURN SGET("QUERYPER")


*       *********************************************************
*       *                                                         
*       * _6WA0YDDGH           M.FILPER VALID                     
*       *                                                         
*       * Function Origin:                                        
*       *                                                         
*       * From Platform:       Windows                            
*       * From Screen:         QUERYPER,     Record Number:   35  
*       * Variable:            M.FILPER                           
*       * Called By:           VALID Clause                       
*       * Object Type:         Radio Button                       
*       * Snippet Number:      5                                  
*       *                                                         
*       *********************************************************
*
FUNCTION _6wa0yddgh     &&  M.FILPER VALID
#REGION 1
IF READKEY()=15 .OR. READKEY()=271
   opn1=OBJNUM(m.filper)
   if _curobj=opn1+1
      store "" to m.codini,codfin
      =entrecod("c¢digo de "+texto[1],20," Listado entre C¢digos ","C¢digo")
      if !empty(m.codini)
         M.CODCLI=M.CODINI
         M.CODINI=EVAL(TEXTO[4])
         M.CODCLI=M.CODFIN
         M.CODFIN=EVAL(TEXTO[4])
         M.QUEPER='BETW(PER.CODCLI,"'+M.CODINI+'","'+M.CODFIN+'")'
         M.TTPER="C¢digo "+texto[1]+" entre "+m.codini+" y "+m.codfin
      endif
   endif
ENDIF
return VAL_OBJ(.F.,3)


*       *********************************************************
*       *                                                         
*       * _6WA0YDDGL           m.filciu VALID                     
*       *                                                         
*       * Function Origin:                                        
*       *                                                         
*       * From Platform:       Windows                            
*       * From Screen:         QUERYPER,     Record Number:   36  
*       * Variable:            m.filciu                           
*       * Called By:           VALID Clause                       
*       * Object Type:         Radio Button                       
*       * Snippet Number:      6                                  
*       *                                                         
*       *********************************************************
*
FUNCTION _6wa0yddgl     &&  m.filciu VALID
#REGION 1
IF READKEY()=15 .OR. READKEY()=271
   OPN1=OBJNUM(FILciu)
   opvar="per.localidad"
   VAR_NU=6
   if _curobj=OPN1+1
      IF !empty(ELICIU("a Listar",-1,1))
         QUEciu=opvar+"="+aLLTRIM(STR(MIX.NU1))
         ttciu="CIUDAD:"+ALLTRIM(MIX.TEXTO1)
         HABILITADO[VAR_NU]=.F.
      ELSE
         =NOSELEC("CUIDAD")
      ENDIF
   else
      if _curobj=OPN1+2
         STORE 2 TO FILciu
         filciu=qw_ciu("per.localidad")
      endif
   ENDIF
ENDIF
RETURN VAL_OBJ(.F.,3)


*       *********************************************************
*       *                                                         
*       * _6WA0YDDGQ           m.fildni VALID                     
*       *                                                         
*       * Function Origin:                                        
*       *                                                         
*       * From Platform:       Windows                            
*       * From Screen:         QUERYPER,     Record Number:   37  
*       * Variable:            m.fildni                           
*       * Called By:           VALID Clause                       
*       * Object Type:         Radio Button                       
*       * Snippet Number:      7                                  
*       *                                                         
*       *********************************************************
*
FUNCTION _6wa0yddgq     &&  m.fildni VALID
#REGION 1
IF READKEY()=15 .OR. READKEY()=271
   opn1=OBJNUM(FILdni)
   opvar="per.tipodoc"
   VAR_NU=7
   if _curobj=OPN1+1
      IF !empty(ELIdni("a Listar",-1,1))
         QUEdni=opvar+"='"+LEFT(MIX.TEXTO2,2)+"'"
         ttdni="DOCUMENTO:"+ALLTRIM(MIX.TEXTO1)
         HABILITADO[VAR_NU]=.F.
         STORE .T. TO UNDOC
         SHOW GETS
      ELSE
         =NOSELEC("TIPO DE DOCUMENTO")
      ENDIF
   else
      if _curobj=OPN1+2
         STORE 2 TO FILdni
         fildni=qw_dni(9,1,OPVAR,"TTdni")
      endif
   ENDIF
ENDIF
RETURN VAL_OBJ(.F.,3)


*       *********************************************************
*       *                                                         
*       * _6WA0YDDHC           m.filiva VALID                     
*       *                                                         
*       * Function Origin:                                        
*       *                                                         
*       * From Platform:       Windows                            
*       * From Screen:         QUERYPER,     Record Number:   38  
*       * Variable:            m.filiva                           
*       * Called By:           VALID Clause                       
*       * Object Type:         Radio Button                       
*       * Snippet Number:      8                                  
*       *                                                         
*       *********************************************************
*
FUNCTION _6wa0yddhc     &&  m.filiva VALID
#REGION 1
IF READKEY()=15 .OR. READKEY()=271
   opn1=OBJNUM(FILiva)
   opvar="per.condiva"
   VAR_NU=8
   if _curobj=OPN1+1
      IF !empty(ELIiva("a Listar",-1,1))
         QUEiva=opvar+"='"+LEFT(MIX.TEXTO2,2)+"'"
         ttiva="COND I.V.A.:"+ALLTRIM(MIX.TEXTO1)
         HABILITADO[VAR_NU]=.F.
         STORE .T. TO UNDOC
         SHOW GETS
      ELSE
         =NOSELEC("CONDICION DE I.V.A.")
      ENDIF
   else
      if _curobj=OPN1+2
         STORE 2 TO FILiva
         filiva=qw_iva(9,1,OPVAR,"TTiva")
      endif
   ENDIF
ENDIF
RETURN VAL_OBJ(.F.,2)


*       *********************************************************
*       *                                                         
*       * _6WA0YDDHF           Read Level Show                    
*       *                                                         
*       * Function Origin:                                        
*       *                                                         
*       *                                                         
*       * From Platform:       Windows                            
*       * From Screen:         QUERYPER                           
*       * Called By:           READ Statement                     
*       * Snippet Number:      9                                  
*       *                                                         
*       *********************************************************
*
FUNCTION _6wa0yddhf     && Read Level Show
PRIVATE currwind
STORE WOUTPUT() TO currwind
*
* Show Code from screen: QUERYPER
*
#REGION 1
IF SYS(2016) = "QUERYPER" OR SYS(2016) = "*"
	ACTIVATE WINDOW queryper SAME
	@ 1.126,34.625 SAY IIF(EMPTY(M.CODCLI1),"",SAYPER(M.CODCLI1,CONTENIDO[3])) ;
		SIZE 1.125,30.000, 0.000 ;
		FONT "MS Sans Serif", 8 ;
		PICTURE "@!"
	@ 2.252,34.625 SAY IIF(EMPTY(M.CODCLI2),"",SAYPER(M.CODCLI2,CONTENIDO[3])) ;
		SIZE 1.125,30.000, 0.000 ;
		FONT "MS Sans Serif", 8 ;
		PICTURE "@!"
	@ 5.631,34.625 SAY IIF(EMPTY(M.LOCALIDAD),"",SAYMIX(M.localidad,'CIUCOD')) ;
		SIZE 1.125,21.000, 0.000 ;
		FONT "MS Sans Serif", 8 ;
		PICTURE "@!"
	@ 9.009,34.625 SAY IIF(EMPTY(M.TIPODOC),"",SAYMIX(M.TIPODOC,'DNICOD')) ;
		SIZE 1.125,21.000, 0.000 ;
		FONT "MS Sans Serif", 8 ;
		PICTURE "@!"
	@ 10.135,34.625 SAY IIF(EMPTY(M.CONDIVA),"",SAYMIX(M.CONDIVA,'IVACOD')) ;
		SIZE 1.125,21.000, 0.000 ;
		FONT "MS Sans Serif", 8 ;
		PICTURE "@!"
ENDIF
IF NOT EMPTY(currwind)
	ACTIVATE WINDOW (currwind) SAME
ENDIF
#DEFINE NUL    0                                 && NUL
#DEFINE PAIP   "|"                               && PAIP
* MODIFICACION GOYO 6/10/95 AGREGO LINEA OTRCODPRO
FUNCTION INGDIAR0
	? PAIP
	?? STR(LAORD,5)
	?? PAIP
	IF !PORPAN
		?? SAYPER(REQ.PROCOD,"PROCOD",20)
		?? PAIP
	ENDIF
	DO CASE
	CASE !EMPTY(AVICODPRO)
		?? LEFT(AVICODPRO,IIF(PORPAN,12,15))
		?? PAIP
		?? LEFT(SAYGRL(TMP.AVICODPRO,"AVIS","AVICODPRO","AVIS.AVIO"),30)
		*    SET ORDER TO TAG AVICODPRO IN REQX
	CASE !EMPTY(TELCODPRO)
		?? LEFT(TELCODPRO,IIF(PORPAN,12,15))
		?? PAIP
		?? LEFT(SAYGRL(TMP.TELCODPRO,"TELS","TELCODPRO","TELS.TELA"),30)
		*    SET ORDER TO TAG TELCODPRO IN REQX
	CASE !EMPTY(COMCODPRO)
		?? LEFT(COMCODPRO,IIF(PORPAN,12,15))
		?? PAIP
		?? LEFT(SAYGRL(TMP.COMCODPRO,"COMS","COMCODPRO","COMS.COMPRA"),30)
		*    SET ORDER TO TAG COMCODPRO IN REQX
	CASE !EMPTY(OTRCODPRO)
		?? LEFT(OTRCODPRO,IIF(PORPAN,12,15))
		?? PAIP
		?? LEFT(SAYGRL(TMP.OTRCODPRO,"OTRS","OTRCODPRO","OTRS.OTRO"),30)
		*    SET ORDER TO TAG OTRCODPRO IN REQX
	ENDCASE
	?? PAIP
	?? STR(TMP.ENTRADA,XACDIGI)
	?? PAIP
	?? REQ.FECHAPROM
	?? PAIP
	?? TMP.FECHAOP
	?? PAIP
	?? STR(TMP.FECHAOP-REQ.FECHAPROM,4)
	?? PAIP
	?? PAIP
	SELE REQX
	SET ORDER TO TAG NUMERO
	SEEK LAORD
	STORE NUL TO ELPED,ELREC
	SCAN WHILE NUMERO=LAORD
		IF TMP.AVICODPRO=REQX.AVICODPRO .AND. ;
			TMP.TELCODPRO=REQX.TELCODPRO .AND. ;
			TMP.COMCODPRO=REQX.COMCODPRO .AND. ;
			TMP.OTRCODPRO=REQX.OTRCODPRO
			** AGREGADO LINEA ANTERIOR
			STORE REQX.PEDIDO+ELPED TO ELPED
			STORE REQX.RECIBIDO+ELREC TO ELREC
		ENDIF
	ENDSCAN
	SELE TMP
	?? STR(ELPED,XACDIGI)
	?? PAIP
	?? STR(ELREC,XACDIGI)
	?? PAIP
	LADIF=ABS(ELPED-ELREC)
	IF ELREC>ELPED
		?? SPACE(XACDIGI)
		?? PAIP
		?? STR(LADIF,XACDIGI)
	ELSE
		?? STR(LADIF,XACDIGI)
		?? PAIP
		?? SPACE(XACDIGI)
	ENDIF
	?? PAIP
RETURN .T.

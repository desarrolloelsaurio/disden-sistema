FUNCTION SAYPRE
PARAMETER QPR
HAYSUBO=(TYPE("TESUBO")#"U")
IF QPR="-" && PRECIO MINORISTA
   IF MER.IMPORPROP
      RETURN PORCEN(MER.DOLAR,;
      IIF(EMPTY(MER.PMINOR),M.PORLISMIN,MER.PMINOR),;
      2,IIF(HAYSUBO,M.TESUBO,0))
   ELSE
      IF HAYSUBO
         M.BASE1=PORCEN(MER.DOLAR,M.FLETE,2,;
         IIF(EMPTY(MER.PMINOR),M.PORLISMIN,MER.PMINOR))
         RETURN PORCEN(M.BASE1,M.TESUBO,2)
      ELSE
         RETURN PORCEN(MER.DOLAR,M.FLETE,2,;
               IIF(EMPTY(MER.PMINOR),M.PORLISMIN,MER.PMINOR))
      ENDIF
   ENDIF
ELSE
   IF QPR="+" && PRECIO MAYORISTA
      IF MER.IMPORPROP
         RETURN PORCEN(MER.DOLAR,IIF(HAYSUBO,M.TESUBO,0),2,;
               IIF(EMPTY(MER.PMAYOR),0,MER.PMAYOR))
      ELSE
         IF HAYSUBO
                  M.BASE1=PORCEN(MER.DOLAR,M.FLETE,2,;
                        IIF(EMPTY(MER.PMAYOR),M.PORLISMAY,MER.PMAYOR))
                  RETURN PORCEN(M.BASE1,M.TESUBO,2)
         ELSE
               RETURN PORCEN(MER.DOLAR,M.FLETE,2,;
               IIF(EMPTY(MER.PMAYOR),M.PORLISMAY,MER.PMAYOR))
         ENDIF
      ENDIF
   ELSE
      * PRECIO CON FLETE
      IF MER.IMPORPROP
         RETURN PORCEN(MER.DOLAR,IIF(HAYSUBO,M.TESUBO,0),2)
      ELSE
         RETURN PORCEN(MER.DOLAR,M.FLETE,2,IIF(HAYSUBO,M.TESUBO,0))
      ENDIF
   ENDIF
ENDIF
RETURN

PROCEDURE REEMPLAZ
	* EL PROGRAMA REEMPLAZA UN REGISTRO DETERMINADO DE UNA BASE DE USO
	* DE PROGRAMAS POR UN REGISTRO QUE ESTA EL SUBDIRECTORIO DE EJECUCION
	* DEL PROCEDIMIENTO
	* LA_BASE_NUEVA=LA BASE QUE CONTIENE LOS REGISTROS MODIFICADOS
	* LA_BASE_ORIGINAL=LA BASE A CORREGIR - DATOS ORIGINALES
	* EL_ORDER=ORDER TAG DE LA BASE A CORREGIR
	* EL_CAMPO_ABUSCAR=CAMPO INDICE
	=SETEOS()
	* ABRE EL ARCHIVO DE TEXTO
	DATOS=fOPEN("DATOS.TXT",0)
	DO WHILE !FEOF(DATOS)
		VARIABLE=FGETS(DATOS)
		CONTENIDO=FGETS(DATOS)
		STORE CONTENIDO TO &VARIABLE
	ENDDO
	CLOSE DATA
	* ABRE LA BASE ORIGINAL
	WAIT "ABRIENDO LA BASE ORIGINAL" WIND NOWA
	SELE 0
	USE (LA_BASE_ORIGINAL) ALIAS ORIGINAL
	SET ORDER TO TAG (EL_ORDER)
	* ABRE LA BASE DE REEMPLAZO
	WAIT "ABRIENDO LA BASE DE REEMPLAZO" WIND NOWA
	SELE 0
	USE (LA_BASE_NUEVA) ALIAS REEMPLAZO
	* BUSCA TODOS LOS REGISTROS A REEMPLAZAR
	SCAN
		CAMPO_QUE_BUSCO=EVAL(EL_CAMPO_ABUSCAR)
		WAIT "BUSCANDO REGISTRO "+CAMPO_QUE_BUSCO WIND NOWA
		SELE ORIGINAL
		IF SEEK(CAMPO_QUE_BUSCO)
			WAIT "ENCONTRE REGISTRO "+EVAL(EL_CAMPO_ABUSCAR) WIND NOWA
			BROW NOEDIT NOMENU NOAPPE NODELETE TIMEOUT 1
			DELE
			BROW NOEDIT NOMENU NOAPPE NODELETE TIMEOUT 1
		ELSE
			=CARTEL("NO ENCONTRE REGISTRO "+CAMPO_QUE_BUSCO,;
				"TOME NOTA DEL POSIBLE ERROR",;
				"Y",;
				"PULSE [ENTER] PARA CONTINUAR")
		ENDIF
		SELE REEMPLAZO
	ENDSCAN
	USE IN REEMPLAZO
	WAIT "COPIANDO LOS REGISTROS ACTUALIZADOS" WIND NOWA
	SELE ORIGINAL
	APPE FROM (LA_BASE_NUEVA)
	=WCL()
	=CARTEL("ACTUALIZACIAN TERMINADA",;
		"NO SE OLVIDE DE INFORMAR SOBRE POSIBLES PROBLEMAS",;
		"EN EL PROCESO RECIEN TERMINADO",;
		"PULSE [ENTER] PARA TERMINAR EL PROGRAMA")
RETURN

FUNCTION IAUD
RETURN .T.

FUNCTION OPAUD
RETURN .T.
FUNCTION OPSEG
RETURN .T.
FUNCTION OPMIX
RETURN .T.
FUNCTION OPDOC
RETURN .T.
FUNCTION HORA_ULP
RETURN .T.

* ESTRUCTURA DEL ARRHIVO DATOS.TXT
*LA_BASE_NUEVA (VARIABLE)
*NADA.DBF      (CONTENIDO)
*LA_BASE_ORIGINAL (VARIABLE)
*D:\SISTEMAS\VENTAS\VENTASA\FACTURAS.DBF (CONTENIDO)
*EL_ORDER (VARIABLE)
*FACTURA (CONTENIDO)
*EL_CAMPO_ABUSCAR (VARIABLE)
*FACTURA (CONTENIDO)

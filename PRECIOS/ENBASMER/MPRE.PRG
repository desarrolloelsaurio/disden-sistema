*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        08/12/96              MPRE.PRG                 22:40:01 
*                                                                
*       픔컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        GOYO REINER                                             
*                                                                
*        Copyright (c) 1996 GOYO REINER                          
*        1 DE MAYO 2134 Dto 2                                   
*        ROSARIO, SF  2000                                       
*                                                                
*        Description:                                            
*        This program was automatically generated by GENSCRN.    
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴

PARAMETERS miran

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*                  MPRE/MS-DOS Setup Code - SECTION 1            
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*

#REGION 1
ULPR=HORA_ULP(PROGRAM())
IF CHEQSEG()
   STORE NUL TO RESPUESTA
   DO WHILE !EMPTY(ELIMER("a Consultar",-1,1))
      SELE MER
      SCAT MEMV MEMO
      STORE 1 TO M.M_SIGUE
      esequipa=(getenv("EQUIPO")="EQUIPA")

#REGION 0
REGIONAL m.currarea, m.talkstat, m.compstat

IF SET("TALK") = "ON"
	SET TALK OFF
	m.talkstat = "ON"
ELSE
	m.talkstat = "OFF"
ENDIF
m.compstat = SET("COMPATIBLE")
SET COMPATIBLE FOXPLUS

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*                       MS-DOS Window definitions                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*

=MOVEWIX("win",	INT((SROW()-19)/2), INT((SCOL()-80)/2), INT((SROW()-19)/2)+18, INT((SCOL()-80)/2)+79, ;
 " CONSULTA DE PRECIOS "		,' '+JANNAME+' ')		


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*                       MPRE/MS-DOS Screen Layout                
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*

#REGION 1
IF WVISIBLE("win")
	ACTIVATE WINDOW win SAME
ELSE
	ACTIVATE WINDOW win NOSHOW
ENDIF
@ 1,1 SAY "Articulo" ;
	SIZE 1,8, 0
@ 6,1 SAY "Medidas" ;
	SIZE 1,7, 0
@ 3,1 SAY "Marca" ;
	SIZE 1,5, 0
@ 4,1 SAY "Color" ;
	SIZE 1,5, 0
@ 8,1 SAY "Costo" ;
	SIZE 1,5, 0
@ 13,1 SAY "Stock" ;
	SIZE 1,5, 0
@ 2,1 SAY "Denominaci줻" ;
	SIZE 1,12, 0
@ 3,35 SAY "Alimentaci줻" ;
	SIZE 1,12, 0
@ 5,1 SAY "Caracter." ;
	SIZE 1,9, 0
@ 1,14 SAY m.articulo ;
	SIZE 1,20 ;
	COLOR SCHEME 19
@ 2,14 SAY m.merca ;
	SIZE 1,40 ;
	COLOR SCHEME 19
@ 3,14 SAY saymix1(m.marca,'marcod') ;
	SIZE 1,20 ;
	PICTURE "@!" ;
	COLOR SCHEME 19
@ 3,48 SAY saymix1(m.alim,'alicod') ;
	SIZE 1,20 ;
	PICTURE "@!" ;
	COLOR SCHEME 19
@ 4,14 SAY saymix(m.color,'colcod') ;
	SIZE 1,20 ;
	PICTURE "@!" ;
	COLOR SCHEME 19
@ 5,14 SAY saymix1(m.car1,'carcod') ;
	SIZE 1,20 ;
	PICTURE "@!" ;
	COLOR SCHEME 19
@ 5,35 SAY saymix1(m.car2,'carcod') ;
	SIZE 1,20 ;
	PICTURE "@!" ;
	COLOR SCHEME 19
@ 5,56 SAY saymix1(m.car3,'carcod') ;
	SIZE 1,20 ;
	PICTURE "@!" ;
	COLOR SCHEME 19
@ 6,14 SAY m.medidas ;
	SIZE 1,41 ;
	COLOR SCHEME 19
@ 8,14 SAY IIF(MIRAN,"",STR(m.costo,14,2)) ;
	SIZE 1,14 ;
	COLOR SCHEME 19
@ 8,31 EDIT m.merca1 ;
	SIZE 6,46,0 ;
	DEFAULT " " ;
	DISABLE
@ 9,1 SAY XALIS1 ;
	SIZE 1,12
@ 9,14 SAY IIF(MIRAN .AND. !ESARROYO,"",STR(PORCEN(MER.COSTO,MER.PRECIO1,0),14,2)) ;
	SIZE 1,14 ;
	COLOR SCHEME 19
@ 10,1 SAY XALIS2 ;
	SIZE 1,12
@ 10,14 SAY STR(PORCEN(MER.COSTO,MER.precio2,0),14,2) ;
	SIZE 1,14 ;
	COLOR SCHEME 19
@ 11,1 SAY XALIS3 ;
	SIZE 1,12
@ 11,14 SAY IIF(!ESARROYO .OR. ESEQUIPA,STR(PORCEN(MER.COSTO,MER.precio3,0),14,2),"") ;
	SIZE 1,14 ;
	COLOR SCHEME 19
@ 12,1 SAY XALIS4 ;
	SIZE 1,12
@ 12,14 SAY IIF(MIRAN,"",STR(PORCEN(MER.COSTO,MER.precio4),14,2,0)) ;
	SIZE 1,14 ;
	COLOR SCHEME 19
@ 13,14 SAY m.stock ;
	SIZE 1,10 ;
	COLOR SCHEME 19
@ 15,34 GET M.M_sigue ;
	PICTURE "@*HN \<CONTINUA" ;
	SIZE 1,10,1 ;
	DEFAULT 1 ;
	MESSAGE "[ESC] para Salir de la Consulta"

IF NOT WVISIBLE("win")
	ACTIVATE WINDOW win
ENDIF

READ ;
	SHOW _rcx1cl0fp()

=RELEWIN("win")

#REGION 0
IF m.talkstat = "ON"
	SET TALK ON
ENDIF
IF m.compstat = "ON"
	SET COMPATIBLE ON
ENDIF


*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*                       MPRE/MS-DOS Cleanup Code                 
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*

#REGION 1
=IAUD(ALLTRIM(MER.ARTICULO)+"-"+MER.MERCA)
STORE NUL TO RESPUESTA
ENDDO
ELSE
=IAUDI()
ENDIF
=MEN_LIN(BOTOM)
RETURN

*       靈컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*                                                                
*        _RCX1CL0FP           Read Level Show                    
*                                                                
*        Function Origin:                                        
*                                                                
*                                                                
*        From Platform:       MS-DOS                             
*        From Screen:         MPRE                               
*        Called By:           READ Statement                     
*        Snippet Number:      1                                  
*                                                                
*       聃컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴컴
*
FUNCTION _rcx1cl0fp     && Read Level Show
PRIVATE currwind
STORE WOUTPUT() TO currwind
*
* Show Code from screen: MPRE
*
#REGION 1
IF SYS(2016) = "WIN" OR SYS(2016) = "*"
	ACTIVATE WINDOW win SAME
	@ 5,35 SAY saymix1(m.car2,'carcod') ;
		SIZE 1,20, 0 ;
		PICTURE "@!" ;
		COLOR SCHEME 19
	@ 5,56 SAY saymix1(m.car3,'carcod') ;
		SIZE 1,20, 0 ;
		PICTURE "@!" ;
		COLOR SCHEME 19
ENDIF
IF NOT EMPTY(currwind)
	ACTIVATE WINDOW (currwind) SAME
ENDIF
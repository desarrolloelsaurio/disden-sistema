=UNWORK()
=MEN_LIN('[ESC] PARA SALIR - Ctrl+H para AYUDA')
DEFI WIND WIN FROM 5,1 TO 22,78 FOOT JANNAME TITL 'Correcci¢n de M rgenes' shad colo sche 3
ON KEY LABEL Ctrl+D WAIT MER.MERCA WIND NOWA
ON KEY LABEL Ctrl+A WAIT TRANS(MER.COSTODOL,'99,999.99') WIND NOWA
ON KEY LABEL CTRL+H DO CPREHELP
ON KEY LABEL CTRL+P DO CPREMPRO
ON KEY LABEL CTRL+X KEYBOARD CHR(23)
ON KEY LABEL CTRL+M DO CPREMMAR

BROW FIELD ;
ARTICULO:R,;
TEXTO=LEFT(MER.MERCA,20):R,;
PRECIO1:P=IIF(SIGN(PRECIO1)=-1,"@R POL 99.99","@R % 9999.99"):H=PADC(XALIS1,10),;
PRECIO2:P=IIF(SIGN(PRECIO2)=-1,"@R POL 99.99","@R % 9999.99"):H=PADC(XALIS2,10),;
PRECIO3:P=IIF(SIGN(PRECIO3)=-1,"@R POL 99.99","@R % 9999.99"):H=PADC(XALIS3,10),;
PRECIO4:P=IIF(SIGN(PRECIO4)=-1,"@R POL 99.99","@R % 9999.99"):H=PADC(XALIS4,10) ;
WIND WIN

ON KEY LABEL Ctrl+D
ON KEY LABEL Ctrl+A
ON KEY LABEL Ctrl+H
ON KEY LABEL Ctrl+M
ON KEY LABEL Ctrl+P
ON KEY LABEL Ctrl+X
RETURN
procedure CPREHELP
	=movewin(11,NUL,21,43,'AYUDA',' AYUDA ')
	@ 1,1 SAY 'Ctrl A  Muestra Costo'
	@ 2,1 SAY 'Ctrl D  Muestra Denominaci¢n Completa'
	@ 3,1 SAY 'Ctrl H  Esta Ayuda'
	@ 4,1 SAY 'Ctrl M  Muestra Marca'
	@ 5,1 SAY 'Ctrl P  Muestra Proveedor'
	@ 6,1 SAY 'Ctrl X  Sale de Correcci¢n'
	@ 7,1 say 'ENTER  Fin Ayuda'
	=inkey(NUL,'HM')
	=relewin("ayuda")
return
PROCEDURE CPREMMAR
	=XSEEK(MER.MARCA,'MI1','MARCOD')
	WAIT 'Marca:'+mi1.texto1 wind nowa
return .t.
PROCEDURE CPREMPRO
	SALIDA=''
	IF !EMPTY(MER.PRO1) .AND. XSEEK(MER.PRO1,'PRO','PROCOD')
		SALIDA='PROVEEDOR 1:'+ALLTRIM(PRO.PROVEEDOR)+" ("+ALLTRIM(MER.PRO1)+")"
	ENDIF
	IF !EMPTY(MER.PRO2) .AND. XSEEK(MER.PRO2,'PRO','PROCOD')
		SALIDA=SALIDA+IIF(EMPTY(SALIDA),"",CHR(13)+CHR(10))+'PROVEEDOR 2:'+ALLTRIM(PRO.PROVEEDOR)+" ("+ALLTRIM(MER.PRO2)+")"
	ENDIF
	IF !EMPTY(MER.PRO3) .AND. XSEEK(MER.PRO3,'PRO','PROCOD')
		SALIDA=SALIDA+IIF(EMPTY(SALIDA),"",CHR(13)+CHR(10))+'PROVEEDOR 3:'+ALLTRIM(PRO.PROVEEDOR)+" ("+ALLTRIM(MER.PRO2)+")"
	ENDIF
	=POPCARTE(SALIDA)
	=INKEY(NUL,'HM')
	=RELEWIN("POPCARTE")
RETURN
